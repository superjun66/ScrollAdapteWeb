System.register("chunks:///_virtual/card_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./helper.ts"],(function(e){var t,r,i,a,o,n,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,l=e.Label,s=e.Component},null,function(e){c=e.Helper}],execute:function(){var d,h,p,u,_;o._RF.push({},"1d7bcfD/S9Eh5YpiaRITuwz","card_item",void 0);var f=n.ccclass,v=n.property;e("card_item",(d=f("card_item"),h=v(l),d((_=t((u=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,i(t,"label",_,a(t)),t._holder=void 0,t}r(t,e);var o=t.prototype;return o.show=function(e){this._holder=e,this.label.string=e.data.name,this.node.setScale(.3,.3)},o.hide=function(){},o.click=function(){this._holder.adapter.scrollManager.scrollToGroupIndex(1,this._holder.view.index)},o.update=function(){if(this._holder&&this._holder.model){var e=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),t=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(e),r=this._holder.adapter.centerManager.getContainerOffset(),i=Math.abs(t[this._holder.adapter.mainAxis])-r,a=Math.abs(i)/this._holder.adapter.mainAxisSize;a=1-a,a=c.clamp(a,.3,1);var o=this.node.getScale();o[this._holder.adapter.mainAxis]=a,o[this._holder.adapter.crossAxis]=a,this.node.setScale(o)}},t}(s)).prototype,"label",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=u))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./card_item.ts","./enum.ts","./ScrollAdapter.ts","./View.ts","./Holder.ts"],(function(t){var n,e,i,r,o,c,a,l,u,s,f,p,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Node,l=t.director},null,function(t){u=t.card_item},function(t){s=t.ChildAlignment},function(t){f=t.ScrollAdapter},function(t){p=t.View},function(t){h=t.Holder}],execute:function(){var d,m,y,g,b;o._RF.push({},"0735ftw3EhKNYV9hDlICemd","card",void 0);var w=c.ccclass,v=c.property,_=(t("card",(d=w("card"),m=v(a),d((b=n((g=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return n=t.call.apply(t,[this].concat(o))||this,i(n,"prefab",b,r(n)),n}e(n,t);var o=n.prototype;return o.getPrefab=function(t){return this.prefab},o.getHolder=function(t,n){return new A(t,n,this)},o.getView=function(){return new _(this)},o.initElement=function(t,n){},o.start=function(){for(var t=[],n=0;n<100;n++)t.push({name:n+""});this.modelManager.insert(t)},o.home=function(){l.loadScene("home")},o.typeUpper=function(){this.layoutManager.childAlignment=s.UpperLeft},o.typeMiddle=function(){this.layoutManager.childAlignment=s.MiddleLeft},o.typeLower=function(){this.layoutManager.childAlignment=s.LowerLeft},n}(f)).prototype,"prefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y)),function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.onVisible=function(){},i.onDisable=function(){},n}(p)),A=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this)._item=null,n}e(n,t);var i=n.prototype;return i.onCreated=function(){this._item=this.node.getComponent(u)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},n}(h);o._RF.pop()}}}));

System.register("chunks:///_virtual/CenterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./ScrollManager.ts","./ViewManager.ts"],(function(e){var t,i,a,r,n,o,s,l,c,p,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.v3},function(e){c=e.Manager},function(e){p=e.AlwaysScroll},function(e){h=e.ScrollManager},function(e){u=e.ViewManager}],execute:function(){var d,g,v,f,w,_,M,m,A,x,z;o._RF.push({},"49cfdCskIREZ6//by123w4v","CenterManager",void 0);var b=s.ccclass,S=s.property;e("CenterManager",(d=b("CenterManager"),g=S("boolean"),v=S({visible:function(){return this.enabled},tooltip:"自动居中动画的时长"}),f=S({range:[0,1],slide:!0,step:.1,tooltip:"容器(view)的锚点,当滚动停止时,元素锚点位置会和容器锚点位置重合"}),w=S({range:[0,1],slide:!0,step:.1,tooltip:"元素(item)的锚点位置,当滚动停止时,元素锚点位置会和容器锚点位置重合"}),d((m=t((M=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"_enabled",m,r(t)),a(t,"duration",A,r(t)),a(t,"containerAnchorPoint",x,r(t)),a(t,"elementAnchorPoint",z,r(t)),t}i(t,e);var o=t.prototype;return o.getContainerOffset=function(e){void 0===e&&(e=this.containerAnchorPoint);var t=0;return t=this.adapter.isHorizontal?-1==this.adapter.multiplier?e:1-e:1==this.adapter.multiplier?e:1-e,this.adapter.mainAxisSize*t},o.getElementOffset=function(e){void 0===e&&(e=this.elementAnchorPoint);return this.adapter.isHorizontal?-1==this.adapter.multiplier?e:1-e:1==this.adapter.multiplier?e:1-e},o.onInit=function(){this.adapter.scrollManager.on(h.Event.ON_ABOUT_TO_STOP,this._onAboutToStop,this),this.adapter.viewManager.on(u.Event.ON_UPDATE_VIEWS,this.scrollToCenter,this,!0)},o._onAboutToStop=function(){this.scrollToCenter()},o.scrollToCenter=function(e){if(void 0===e&&(e=this.duration),this.enabled){var t=this.getCenterVisibleIndex();if(-1!=t){var i=this.adapter.viewManager.getVisibleView(t);this.adapter.scrollManager.scrollToGroupIndex(e,i.index)}}},o.getCenterVisibleIndex=function(e,t){void 0===e&&(e=this.containerAnchorPoint),void 0===t&&(t=this.elementAnchorPoint);for(var i=this.adapter.mainAxis,a=this.getContainerOffset(e),r=-1,n=Number.MAX_SAFE_INTEGER,o=0;o<this.adapter.viewManager.visibleLength;o++){var s=this.adapter.viewManager.getVisibleView(o);if(!s||!s.group)break;var c={x:s.group.position.x,y:s.group.position.y};c[i]-=this.adapter.multiplier*s.group.size[i]*t;var p=this.adapter.scrollManager.content.convertToWorldSpaceAR(l(c.x,c.y)),h=this.adapter.scrollManager.view.convertToNodeSpaceAR(p),u=Math.abs(h[i]+this.adapter.multiplier*a);u<n&&(n=u,r=o)}return r},o.getPositionByGroupIndex=function(e,t,i){void 0===t&&(t=p.Auto),void 0===i&&(i=!1);var a=this.adapter.viewManager.getGroup(e);if(!a)return null;var r=null;if(t==p.Header&&this.adapter.viewManager.loopHeader)i&&(r=this._checkExists(e)),null==r&&(r=this._alwaysHeader(e,a));else if(t==p.Footer&&this.adapter.viewManager.loopFooter)i&&(r=this._checkExists(e)),null==r&&(r=this._alwaysFooter(e,a));else if(null==(r=this._checkExists(e))){var n=this.adapter.viewManager.header,o=this.adapter.viewManager.footer;n?e>o.index?r=this._calcTargetFooter(o.group,o.index+1,e,a):e<n.index&&(r=this._calcTargetHeader(n.group,n.index-1,e,a)):r={position:a.position[this.adapter.mainAxis],size:a.size[this.adapter.mainAxis],anchor:a.anchorPoint[this.adapter.mainAxis]}}return this._convertTargetToPosition(r)},o._convertTargetToPosition=function(e){var t=null;if(e){var i=this.adapter.multiplier,a=-1==i?e.anchor:1-e.anchor;t=-e.position,t-=this.getContainerOffset()*i,t-=e.size*a*i,t+=e.size*this.getElementOffset()*i}return t},o._checkExists=function(e){var t=this.adapter.viewManager.getVisibleIndexByGroupIndex(e);if(-1!=t){var i=this.adapter.viewManager.getVisibleView(t);return{position:i.group.position[this.adapter.mainAxis],size:i.group.size[this.adapter.mainAxis],anchor:i.group.anchorPoint[this.adapter.mainAxis]}}return null},o._calcTargetFooter=function(e,t,i,a){for(var r=this.adapter.viewManager.internal_getInitFooterSize(e),n=t;n<=i;n++)r+=this.adapter.viewManager.internal_accumulationSize(n);return{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(r,a),size:a.size[this.adapter.mainAxis],anchor:a.anchorPoint[this.adapter.mainAxis]}},o._calcTargetHeader=function(e,t,i,a){for(var r=this.adapter.viewManager.internal_getInitHeaderSize(e),n=t;n>=i;n--)r+=this.adapter.viewManager.internal_accumulationSize(n);return{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(r,a),size:a.size[this.adapter.mainAxis],anchor:a.anchorPoint[this.adapter.mainAxis]}},o._alwaysHeader=function(e,t){var i=0,a=e,r=this.adapter.viewManager.header;return r&&(i=this.adapter.viewManager.internal_getInitHeaderSize(r.group),a=r.index),e!=a&&(i=this._calcSizeToHeader(a,e,i)),{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(i,t),size:t.size[this.adapter.mainAxis],anchor:t.anchorPoint[this.adapter.mainAxis]}},o._alwaysFooter=function(e,t){var i=0,a=e,r=this.adapter.viewManager.footer;return r&&(i=this.adapter.viewManager.internal_getInitFooterSize(r.group),a=r.index),e!=a&&(i=this._calcSizeToFooter(a,e,i)),{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(i,t),size:t.size[this.adapter.mainAxis],anchor:t.anchorPoint[this.adapter.mainAxis]}},o._calcSizeToHeader=function(e,t,i){for(;;){if(--e<0){if(!this.adapter.viewManager.loopHeader)return i;e=this.adapter.viewManager.groupLength-1}if(i+=this.adapter.viewManager.internal_accumulationSize(e),t==e)return i}},o._calcSizeToFooter=function(e,t,i){for(;;){if(++e>=this.adapter.viewManager.groupLength){if(!this.adapter.viewManager.loopFooter)return i;e=0}if(i+=this.adapter.viewManager.internal_accumulationSize(e),e==t)return i}},n(t,[{key:"enabled",get:function(){return this._enabled},set:function(e){e!=this._enabled&&(this._enabled=e)}},{key:"max",get:function(){var e=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?e:this.adapter.mainAxisSize-e}},{key:"min",get:function(){var e=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?this.adapter.mainAxisSize-e:e}}]),t}(c)).prototype,"_enabled",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(M.prototype,"enabled",[g],Object.getOwnPropertyDescriptor(M.prototype,"enabled"),M.prototype),A=t(M.prototype,"duration",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=t(M.prototype,"containerAnchorPoint",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(M.prototype,"elementAnchorPoint",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=M))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/chat_Item.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s,a,i,n,r,o,l,h,g,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,o=e.Label,l=e.UITransform,h=e.Node,g=e.Widget,c=e.Component}],execute:function(){var u,m,d,f,b,p,_,L,v;n._RF.push({},"19731fEa31BrqGOk4ZQktW1","chat_Item",void 0);var w=r.ccclass,y=r.property;e("chatItem",(u=w("chatItem"),m=y(o),d=y(o),f=y(l),u((_=t((p=function(e){function t(){for(var t,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,a(t,"nameLabel",_,i(t)),a(t,"messageLabel",L,i(t)),a(t,"messageBg",v,i(t)),t._holder=null,t._messageLabelTr=void 0,t}s(t,e);var n=t.prototype;return n.onLoad=function(){this._messageLabelTr=this.messageLabel.getComponent(l)},n.onEnable=function(){this.messageLabel.node.on(h.EventType.SIZE_CHANGED,this.onMessageSizeChanged,this)},n.onDisable=function(){this.messageLabel.node.off(h.EventType.SIZE_CHANGED,this.onMessageSizeChanged,this)},n.show=function(e){this._holder=e,this._messageLabelTr.width=0,this.nameLabel.string=this._holder.data.name+"",this.showMessage()},n.hide=function(){this._messageLabelTr.width=0,this.messageBg.width=0},n.showMessage=function(){this.messageLabel.overflow=o.Overflow.NONE,this.messageLabel.string=this._holder.data.message},n.onMessageSizeChanged=function(){var e=this;if(!this._holder||!this.node.active)return console.error("没有显示");var t=this._holder.adapter.crossAxisSize-200;if(this._messageLabelTr.width>t)return this.messageLabel.overflow=o.Overflow.RESIZE_HEIGHT,void(this._messageLabelTr.width=t);this.scheduleOnce((function(){console.log("修改背景"),e.messageBg.setContentSize(e._messageLabelTr.width+40,e._messageLabelTr.height+30),e._holder.transform.height=Math.max(e.messageBg.height,100),e.messageBg.getComponent(g).updateAlignment()}))},t}(c)).prototype,"nameLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(p.prototype,"messageLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(p.prototype,"messageBg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=p))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/chat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./chat_Item.ts","./ReleaseManager.ts","./ViewManager.ts","./ScrollAdapter.ts","./View.ts","./Holder.ts","./enum.ts"],(function(e){var t,n,i,r,s,o,a,l,h,u,c,g,w,p,f,d,M,_,m,y,b,T,v,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,h=e.Node,u=e.UITransform,c=e.Sprite,g=e.EditBox,w=e.Label,p=e.Tween,f=e.v3,d=e.director,M=e.Color},null,function(e){_=e.chatItem},function(e){m=e.ReleaseManager},function(e){y=e.ViewManager},function(e){b=e.ScrollAdapter},function(e){T=e.View},function(e){v=e.Holder},function(e){S=e.ReleaseState}],execute:function(){var P,H,x,N,z,I,A,B,L,D,E,O,R,V,C,k,F;a._RF.push({},"26318xrl1JNC6F+BNJU9HS2","chat",void 0);var U=l.ccclass,G=l.property,J=(e("chat",(P=U("chat"),H=G(h),x=G(h),N=G(u),z=G(c),I=G(g),A=G(h),B=G(w),P((E=t((D=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"myPrefab",E,r(t)),i(t,"youPrefab",O,r(t)),i(t,"header",R,r(t)),i(t,"loading",V,r(t)),i(t,"input",C,r(t)),i(t,"newMsgButton",k,r(t)),i(t,"newMsgLabel",F,r(t)),t._headerTween=void 0,t._loadTween=void 0,t._newMsgShowTween=void 0,t._newMsgHideTween=void 0,t._isHeaderPlay=!1,t._newMsgTotal=0,t._isShowNewMsg=void 0,t}n(t,e);var a=t.prototype;return a.getPrefab=function(e){return 0==e.type?this.myPrefab:this.youPrefab},a.getHolder=function(e,t){return new W(e,t,this)},a.getView=function(){return new J(this)},a.initElement=function(e,t){},a.start=function(){this.releaseManager.on(m.Event.ON_PULL_DOWN,this.onPullDown,this),this._headerTween=new p(this.header).to(.518,{height:this.releaseManager.top*this.mainAxisSize},{easing:"elasticOut"}),this._loadTween=new p(this.loading.node).by(1,{angle:-360}).union().repeatForever(),this._newMsgShowTween=new p(this.newMsgButton).to(.218,{position:f(this.newMsgButton.position.x,60)},{easing:"smooth"}),this._newMsgHideTween=new p(this.newMsgButton).to(.218,{position:f(this.newMsgButton.position.x,-100)},{easing:"smooth"}),this.viewManager.on(y.Event.ON_MAGNETIC,this._onMagnetic,this)},a._onMagnetic=function(e){e?this._newMsgTotal=0:(this.newMsgLabel.string=""+this._newMsgTotal,!this._isShowNewMsg&&this._newMsgTotal>0&&(this._isShowNewMsg=!0,this._newMsgHideTween.stop(),this._newMsgShowTween.start()))},a.onSend=function(){if(0!=this.input.string.length){var e={name:"我",message:this.input.string,type:0};this._newMsgTotal++,this.modelManager.insert(e,0),this.unschedule(this.reply),this.scheduleOnce(this.reply,1)}},a.reply=function(){var e={name:"小娜",message:this.input.string,type:1};this._newMsgTotal++,this.modelManager.insert(e,0)},a.onPullDown=function(){var e=s(o().mark((function e(t){var n,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state!=S.RELEASE){e.next=10;break}if(!this._isHeaderPlay){e.next=10;break}return this._loadTween.start(),t.wait(),e.next=6,this.loadMore();case 6:n=e.sent,this.modelManager.insert(n),this.scheduleOnce((function(){t.release()})),this._loadTween.stop();case 10:i=t.progress,t.state==S.WAIT&&(i=1.5),i>=1.5?this._isHeaderPlay||(this._headerTween=new p(this.header).to(.518,{height:this.releaseManager.top*this.mainAxisSize},{easing:"elasticOut"}),this._headerTween.start(),this._isHeaderPlay=!0):(this._headerTween.stop(),this._isHeaderPlay=!1,this.header.height=t.offset,(r=new M).set(this.loading.color),r.a=255*Math.min(i,1),this.loading.color=r),this.loading.node.angle=-360*t.progress;case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.loadMore=function(){var e=this;return new Promise((function(t,n){for(var i=[],r=(e.modelManager.length,10),s=0;s<r;s++){var o={type:s%2,name:s%2==0?"我":"小娜",message:e.modelManager.length+s+" 历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录！"};i.push(o)}e.scheduleOnce((function(){t(i)}),1)}))},a.scrollToHeader=function(){this.scrollManager.scrollToHeader(1)},a.home=function(){d.loadScene("home")},a.update=function(){this._isShowNewMsg&&this.scrollManager.percentage<.1&&(this._isShowNewMsg=!1,this._newMsgTotal=0,this._newMsgShowTween.stop(),this._newMsgHideTween.start())},t}(b)).prototype,"myPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(D.prototype,"youPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(D.prototype,"header",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(D.prototype,"loading",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(D.prototype,"input",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(D.prototype,"newMsgButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"newMsgLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=D))||L)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.onVisible=function(){},i.onDisable=function(){},t}(T)),W=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this)._chatItem=null,t}n(t,e);var i=t.prototype;return i.onCreated=function(){this._chatItem=this.node.getComponent(_)},i.onVisible=function(){this._chatItem.show(this)},i.onDisable=function(){this._chatItem.hide()},t}(v);a._RF.pop()}}}));

System.register("chunks:///_virtual/debug.ts",["cc"],(function(_){var e,D;return{setters:[function(_){e=_.cclegacy,D=_.Color}],execute:function(){e._RF.push({},"b7bf3JPeg5Pz4Pj5H6FXtBa","debug",void 0);_("DEBUG_DRAW_LINE_COLOR",new D(238,124,55,255)),_("DEBUG_DRAW_FILL_COLOR",new D(88,175,64,50)),_("DEBUG_DRAW_BORDER_COLOR",new D(56,120,94,255)),_("DEBUG_DRAW_LIND_WIDTH",3),_("ADAPTER_DEBUG_VIEW",!1),_("ADAPTER_DEBUG_CONTENT",!1);e._RF.pop()}}}));

System.register("chunks:///_virtual/edit_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./enum.ts","./ScrollManager.ts"],(function(e){var t,i,o,n,r,a,l,s,h,d,u,c,_,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,s=e.Tween,h=e.v3,d=e.Node,u=e.Component},null,function(e){c=e.WrapMode,_=e.Layer},function(e){p=e.ADAPTER}],execute:function(){var f,m,g,y,v;r._RF.push({},"7afa7DiG+pHAIh2BaoQNrth","edit_item",void 0);var w=a.ccclass,L=a.property;e("edit_item",(f=w("edit_item"),m=L(l),f((v=t((y=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"label",v,n(t)),t._holder=null,t._tween=void 0,t}i(t,e);var r=t.prototype;return r._onTouchMove=function(e){console.log("移动了我");var t=this.node.getPosition();t.add3f(e.getUIDelta().x,e.getUIDelta().y,0),this.node.setPosition(t)},r.show=function(e){this._holder=e,this.label.string=this._holder.data.name,this._holder.data.anim&&(this._holder.data.anim=!1,this.node.setScale(0,1,1),this._tween=new s(this.node).to(.5,{scale:h(1,1,1)},{easing:"backOut"}).start()),this.register()},r.hide=function(){this._tween&&this._tween.stop(),this.node.setScale(1,1,1),this._holder.data.anim=!1},r.updateData=function(){this._holder.data.name="已更新",this._holder.model.update()},r.updateWrap=function(){this._holder.element.wrapBeforeMode=c.Wrap,this._holder.element.update()},r.ignoreLayout=function(){this._holder.element.placeholder=!0,this._holder.element.ignoreLayout=!this._holder.element.ignoreLayout,this._holder.element.ignoreLayout?this._holder.element.layer=_.Medium:this._holder.element.layer=_.Lowest,this._holder.element.update(),this.register()},r.register=function(){this.node.off(d.EventType.TOUCH_MOVE,this._onTouchMove,this),this._holder.element.ignoreLayout?(this.node.on(d.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node[p]=!0):this.node[p]=!1},r.update=function(){},t}(u)).prototype,"label",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/edit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./edit_item.ts","./enum.ts","./ScrollAdapter.ts","./View.ts","./Holder.ts"],(function(e){var t,n,r,i,o,a,c,l,s,u,f,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.director},null,function(e){s=e.edit_item},function(e){u=e.WrapMode},function(e){f=e.ScrollAdapter},function(e){h=e.View},function(e){p=e.Holder}],execute:function(){var d,m,g,v,y;o._RF.push({},"40a4crgojVJYY/aveXbUFBt","edit",void 0);var b=a.ccclass,M=a.property,w=(e("edit",(d=b("edit"),m=M(c),d((y=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"prefab",y,i(t)),t}n(t,e);var o=t.prototype;return o.getPrefab=function(e){return this.prefab},o.getView=function(){return new w(this)},o.getHolder=function(e,t){return new _(e,t,this)},o.initElement=function(e,t){e.wrapBeforeMode=u.Auto},o.start=function(){for(var e=[],t=0;t<50;t++)e.push({name:t});this.modelManager.insert(e)},o.home=function(){l.loadScene("home")},o.scrollToHeader=function(){this.scrollManager.scrollToPercentage(1,0)},o.scrollToFooter=function(){this.scrollManager.scrollToPercentage(1,1)},o.insert=function(){this.modelManager.insert({name:this.modelManager.length,anim:!0},0)},o.remove=function(){this.modelManager.remove(6,1)},o.move=function(){this.modelManager.move(this.modelManager.length-1,1,0)},o.clear=function(){this.modelManager.clear()},t}(f)).prototype,"prefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.onVisible=function(){},r.onDisable=function(){},t}(h)),_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._item=null,t}n(t,e);var r=t.prototype;return r.onCreated=function(){this._item=this.node.getComponent(s)},r.onVisible=function(){this._item.show(this)},r.onDisable=function(){this._item.hide()},t}(p);o._RF.pop()}}}));

System.register("chunks:///_virtual/enum.ts",["cc"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy,r=e.Enum}],execute:function(){t._RF.push({},"21168fhfp5Aw4tN3YlGEjVv","enum",void 0);var o=e("Orientation",function(e){return e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e}({})),n=e("MovementType",function(e){return e[e.Unrestricted=0]="Unrestricted",e[e.Elastic=1]="Elastic",e[e.Clamped=2]="Clamped",e}({})),i=e("ArrangeAxis",function(e){return e[e.Start=0]="Start",e[e.End=1]="End",e}({})),u=e("StretchDirection",function(e){return e[e.Auto=0]="Auto",e[e.Header=1]="Header",e[e.Footer=2]="Footer",e[e.Center=3]="Center",e}({})),c=(e("Layer",function(e){return e[e.Lowest=0]="Lowest",e[e.Medium=1]="Medium",e[e.Highest=2]="Highest",e}({})),e("WrapMode",function(e){return e[e.Auto=0]="Auto",e[e.Wrap=1]="Wrap",e[e.Nowrap=2]="Nowrap",e}({})),e("TouchMode",function(e){return e[e.Auto=0]="Auto",e[e.AlwaysAllow=1]="AlwaysAllow",e[e.Disabled=2]="Disabled",e}({}))),a=e("MagneticDirection",function(e){return e[e.Header=0]="Header",e[e.Footer=1]="Footer",e}({})),l=e("ChildAlignment",function(e){return e[e.UpperLeft=0]="UpperLeft",e[e.UpperCenter=1]="UpperCenter",e[e.UpperRight=2]="UpperRight",e[e.MiddleLeft=3]="MiddleLeft",e[e.MiddleCenter=4]="MiddleCenter",e[e.MiddleRight=5]="MiddleRight",e[e.LowerLeft=6]="LowerLeft",e[e.LowerCenter=7]="LowerCenter",e[e.LowerRight=8]="LowerRight",e}({})),L=(e("ScrollDirection",function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.None=4]="None",e}({})),e("ScrollbarDirection",function(e){return e[e.Top_To_Bottom=0]="Top_To_Bottom",e[e.Bottom_To_Top=1]="Bottom_To_Top",e[e.Left_To_Right=2]="Left_To_Right",e[e.Right_To_Left=3]="Right_To_Left",e}({}))),d=(e("NestedDirection",function(e){return e[e.Both=0]="Both",e[e.Header=1]="Header",e[e.Footer=2]="Footer",e}({})),e("AlwaysScroll",function(e){return e[e.Auto=0]="Auto",e[e.Header=1]="Header",e[e.Footer=2]="Footer",e}({})),e("IndicatorMode",function(e){return e[e.Normal=0]="Normal",e[e.Button=1]="Button",e}({}))),E=e("Transition",function(e){return e[e.None=0]="None",e[e.ColorTint=1]="ColorTint",e[e.SpriteSwap=2]="SpriteSwap",e[e.Scale=3]="Scale",e}({}));e("ReleaseState",function(e){return e.IDLE="IDLE",e.PULL="PULL",e.WAIT="WAIT",e.RELEASE="RELEASE",e}({})),e("HolderEvent",function(e){return e.CREATED="ADAPTER:HOLDER:CREATED",e.VISIBLE="ADAPTER:HOLDER:VISIBLE",e.DISABLE="ADAPTER:HOLDER:DISABLE",e}({})),e("ViewEvent",function(e){return e.VISIBLE="ADAPTER:VIEW:VISIBLE",e.DISABLE="ADAPTER::VIEW:DISABLE",e}({}));r(o),r(n),r(i),r(u),r(a),r(L),r(l),r(c),r(d),r(E),t._RF.pop()}}}));

System.register("chunks:///_virtual/fixed_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts"],(function(e){var t,i,r,n,o,l,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Label,c=e.Component},null],execute:function(){var s,u,d,p,f;o._RF.push({},"20addg1z9tL24Mef9WIwM01","fixed_item",void 0);var h=l.ccclass,_=l.property;e("fixed_item",(s=h("fixed_item"),u=_(a),s((f=t((p=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(t,"label",f,n(t)),t._holder=void 0,t}i(t,e);var o=t.prototype;return o.show=function(e){this._holder=e,this.label.string=this._holder.data.name},o.hide=function(){},o.update=function(){},t}(c)).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/fixed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./fixed_item.ts","./enum.ts","./ScrollAdapter.ts","./View.ts","./Holder.ts"],(function(e){var t,n,i,r,o,a,l,c,u,f,s,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,c=e.director},null,function(e){u=e.fixed_item},function(e){f=e.Layer},function(e){s=e.ScrollAdapter},function(e){d=e.View},function(e){p=e.Holder}],execute:function(){var h,m,b,g,y,x,v;o._RF.push({},"a0c62+GGSVJfJkgAg7jeAZe","fixed",void 0);var P=a.ccclass,w=a.property,_=(e("fixed",(h=P("fixed"),m=w(l),b=w(l),h((x=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"fixedPrefab",x,r(t)),i(t,"normalPrefab",v,r(t)),t}n(t,e);var o=t.prototype;return o.getPrefab=function(e){return e.fixed?this.fixedPrefab:this.normalPrefab},o.getView=function(){return new _(this)},o.getHolder=function(e,t){return new A(e,t,this)},o.initElement=function(e,t){e.fixed=t.fixed,e.fixed&&(e.layer=f.Medium)},o.home=function(){c.loadScene("home")},o.scrollToHeader=function(){this.scrollManager.scrollToPercentage(1,0)},o.scrollToFooter=function(){this.scrollManager.scrollToPercentage(1,1)},o.start=function(){for(var e=[],t=0;t<1e3;t++){var n={name:t,fixed:t%10==0};e.push(n)}this.modelManager.insert(e)},t}(s)).prototype,"fixedPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(y.prototype,"normalPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.onVisible=function(){},i.onDisable=function(){},t}(d)),A=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this)._item=null,t}n(t,e);var i=t.prototype;return i.onCreated=function(){this._item=this.node.getComponent(u)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},t}(p);o._RF.pop()}}}));

System.register("chunks:///_virtual/Group.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.ts"],(function(i){var t,e,n;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy},function(i){n=i.StretchDirection}],execute:function(){e._RF.push({},"c701cxQvelFbLzv3DVRhj2t","Group",void 0);i("Group",function(){function i(i){this._adapter=void 0,this._index=-1,this._models=[],this._size={x:0,y:0},this._oldSize={x:0,y:0},this._anchorPoint={x:.5,y:.5},this._position={x:0,y:0},this._oldPosition={x:0,y:0},this._totalMinSize={x:0,y:0},this._totalPreferredSize={x:0,y:0},this._totalFlexibleSize={x:0,y:0},this._isFixed=!1,this._fixedIndex=-1,this._adapter=i,this.internal_reset()}var e=i.prototype;return e.findModelIndex=function(i){return this.models.findIndex((function(t){return t.index==i}))},e.internal_reset=function(){this._models=[],this._size={x:0,y:0},this._oldSize={x:0,y:0},this._anchorPoint={x:.5,y:.5},this._position={x:0,y:0},this._oldPosition={x:0,y:0},this._totalMinSize={x:0,y:0},this._totalPreferredSize={x:0,y:0},this._totalFlexibleSize={x:0,y:0},this._isFixed=!1,this._fixedIndex=-1,this._setAnchorPoint()},e.internal_setPosition=function(i){var t=this.adapter.mainAxis;this.oldPosition[t]=this.position[t],this.position[t]=i},e.internal_setIndex=function(i){this._index=i},e.internal_insert=function(i,t,e){t.internal_reset();var n=this.models;if(this.internal_reset(),this._fixedIndex=i.fixedIndex,!e)for(var s=0;s<n.length;s++){var r=n[s];if(!(r.index<i.modelIndex))break;if(!this._insertHandler(r,t))return i.modelIndex=r.index,i.fixedIndex=this.isFixed?this.index:i.fixedIndex,!0}for(var o=i.modelIndex;o<this.adapter.modelManager.length;o++){var a=this.adapter.modelManager.get(o);if(!this._insertHandler(a,t))return i.modelIndex=a.index,i.fixedIndex=this.isFixed?this.index:i.fixedIndex,a.index}return!1},e.internal_includes=function(i){for(var t,e=this,n=function(){var t=i[s];if(-1!=e.models.findIndex((function(i){return i.data==t})))return{v:!0}},s=0;s<i.length;s++)if(t=n())return t.v;return!1},e._insertHandler=function(i,t){if(t.internal_isWrap(i,this))return t.internal_reset(),!1;t.internal_push(i),i.element.fixed&&(this._isFixed=!0,this._fixedIndex=-1);var e=this.adapter.mainAxis,n=this.adapter.crossAxis;return(!i.element.ignoreLayout||i.element.ignoreLayout&&i.element.placeholder)&&(this.size[e]=Math.max(this.size[e],i.size[e]*i.scale[e])),this.size[n]=this.adapter.crossAxisSize,this.oldSize[e]=this.size[e],this.oldSize[n]=this.size[n],this.models.push(i),!0},e._setAnchorPoint=function(){switch(this.adapter.viewManager.stretchDirection){case n.Center:this.anchorPoint[this.adapter.mainAxis]=.5;break;case n.Header:this.anchorPoint[this.adapter.mainAxis]=1-this.adapter.mainAxisAnchorPoint;break;default:this.anchorPoint[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint}},t(i,[{key:"adapter",get:function(){return this._adapter}},{key:"index",get:function(){return this._index}},{key:"models",get:function(){return this._models}},{key:"size",get:function(){return this._size}},{key:"oldSize",get:function(){return this._oldSize}},{key:"anchorPoint",get:function(){return this._anchorPoint}},{key:"position",get:function(){return this._position}},{key:"oldPosition",get:function(){return this._oldPosition}},{key:"totalMinSize",get:function(){return this._totalMinSize}},{key:"totalPreferredSize",get:function(){return this._totalPreferredSize}},{key:"totalFlexibleSize",get:function(){return this._totalFlexibleSize}},{key:"isFixed",get:function(){return this._isFixed}},{key:"fixedIndex",get:function(){return this._fixedIndex}}]),i}());e._RF.pop()}}}));

System.register("chunks:///_virtual/helper.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"d16dfIj/wBDe7lg2eRhY7du","helper",void 0);var r=n("Helper",function(){function n(){}return n.smoothStep=function(n,t,r){return t*(r=-2*(r=this.clamp01(r))*r*r+3*r*r)+n*(1-r)},n.smoothDamp=function(n,t,r,e,o,a){var i=2/(e=Math.max(1e-4,e)),u=i*a,c=1/(1+u+.48*u*u+.235*u*u*u),x=n-t,p=t,f=o*e,h=(r+i*(x=this.clamp(x,0-f,f)))*a;r=(r-i*h)*c;var s=(t=n-x)+(x+h)*c;return p-n>0==s>p&&(r=((s=p)-p)/a),{velocity:r,position:s}},n.clamp01=function(n){return this.clamp(n,0,1)},n.clamp=function(n,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),Math.min(Math.max(n,t),r)},n.sign=function(n){return n>=0?1:-1},n.lerp=function(n,t,r){return n+(t-n)*this.clamp01(r)},n.approximately=function(n,t){return Math.abs(t-n)<Math.max(1e-4*Math.max(Math.abs(n),Math.abs(t)),8*this.Epsilon)},n.round=function(n,t){return Math.round(n*Math.pow(10,t))/Math.pow(10,t)},n.pingpang=function(n){var t=n;t=Math.abs(n);var r=Math.trunc(t);return r%2==0?t-=r:t=1-(t-r),t},n.isNumber=function(n){return"number"==typeof n&&!isNaN(n)},n.progress=function(n,t,r,e){return n+(t-n)*e},n.getGuid=function(){var n=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==t?r:3&r|8).toString(16)}))},n}());r.Epsilon=1401298e-51,r.Infinity=1/0,t._RF.pop()}}}));

System.register("chunks:///_virtual/Holder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./helper.ts","./ModelManager.ts"],(function(e){var t,i,s,n,o,a,h;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,s=e._decorator,n=e.Node,o=e.UITransform},function(e){a=e.Helper},function(e){h=e.ModelManager}],execute:function(){var r;i._RF.push({},"06194IgtVlOubt8kvkPRvBb","Holder",void 0);var d=s.ccclass;s.property,e("Holder",d("Holder")(r=function(){function e(e,t,i){this._node=void 0,this._transform=void 0,this._code=void 0,this._adapter=void 0,this._model=void 0,this._view=void 0,this._fixedIndex=-1,this._oldData=null,this._oldElement=null,this._isCallCreated=!1,this._isLayout=!1,this._node=e,this._code=t,this._adapter=i,this._transform=this.node.getComponent(o)}var i=e.prototype;return i.internal_visible=function(e,t,i){var s=this;this._view=e,this._model=t,this._oldElement=Object.assign({},t.element),this._model.element.update=this._updateElement.bind(this),this._oldData=this.data,i&&(this.node.active=!0,this._isCallCreated||(this._isCallCreated=!0,this.onCreated()),this.element.fixed&&(this._fixedIndex=this.view.group.models.findIndex((function(e){return e.index==s.model.index}))),this.transform.setContentSize(this.model.size.x,this.model.size.y),this.node.setScale(this.model.scale.x,this.model.scale.y),this._register(),this.onVisible(),this._model.update=this._updateHandler.bind(this))},i._updateElement=function(){this._oldElement.layer!=this.element.layer&&(this.node.parent=this.adapter.scrollManager.getLayerNode(this.element.layer),this._oldElement.layer=this.element.layer),(this._oldElement.wrapAfterMode!=this.element.wrapAfterMode||this._oldElement.wrapBeforeMode!=this.element.wrapBeforeMode||this._oldElement.ignoreLayout!=this.element.ignoreLayout||this.element.ignoreLayout&&this._oldElement.placeholder!=this.element.placeholder)&&(this.adapter.viewManager.internal_updateVisibleView(this.model.index),this._oldElement.wrapAfterMode=this.element.wrapAfterMode,this._oldElement.wrapBeforeMode=this.element.wrapBeforeMode,this._oldElement.ignoreLayout=this.element.ignoreLayout,this._oldElement.placeholder=this.element.placeholder)},i._updateHandler=function(){this._model.update=function(){},this.onVisible(),this._model.update=this._updateHandler.bind(this)},i.internal_disable=function(){this.adapter.scrollManager.internal_disableTouchTarget(this.node),this.onDisable(),this._unregister(),this._model.update=function(){},this._model.element.update=function(){},this._view=null,this._model=null,this._fixedIndex=-1,this._isLayout=!1,this._oldData=null,this.node.active=!1},i.internal_layout=function(){var e={x:this.model.size.x,y:this.model.size.y};this.adapter.layoutManager.isControlMainAxisSize&&(e[this.adapter.mainAxis]=this.model.layoutSize[this.adapter.mainAxis]),this.adapter.layoutManager.isControlCrossAxisSize&&(e[this.adapter.crossAxis]=this.model.layoutSize[this.adapter.crossAxis]),this._isLayout=!0,this.transform.setContentSize(e.x,e.y),this._isLayout=!1,this.node.setPosition(this.model.position.x,this.model.position.y)},i._register=function(){this.node.on(n.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.on(n.EventType.TRANSFORM_CHANGED,this._onScaleChanged,this),this.node.on(n.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.on(h.Event.ON_UPDATE,this._updateHandler,this)},i._unregister=function(){this.node.off(n.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.off(n.EventType.TRANSFORM_CHANGED,this._onScaleChanged,this),this.node.off(n.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.off(h.Event.ON_UPDATE,this._updateHandler,this)},i._onSizeChanged=function(){if(!this._isLayout){var e=a.approximately(this.model.size[this.adapter.mainAxis],this.transform.contentSize[this.adapter.mainAxis]),t=a.approximately(this.model.size[this.adapter.crossAxis],this.transform.contentSize[this.adapter.crossAxis]);this.model.size.x=this.transform.width,this.model.size.y=this.transform.height,e&&t||this.view.internal_holderChanged(e)}},i._onScaleChanged=function(e){if(e==n.TransformBit.SCALE&&(this.adapter.layoutManager.controlScaleWidth||this.adapter.layoutManager.controlScaleHeight)){var t=a.approximately(this.model.scale[this.adapter.mainAxis],this.node.scale[this.adapter.mainAxis]),i=a.approximately(this.model.scale[this.adapter.crossAxis],this.node.scale[this.adapter.crossAxis]);this.model.scale.x=this.node.scale.x,this.model.scale.y=this.node.scale.y,t&&i||this.view.internal_holderChanged(t)}},i._onAnchorPointChanged=function(){var e=a.approximately(this.model.anchorPoint[this.adapter.mainAxis],this.transform.anchorPoint[this.adapter.mainAxis]),t=a.approximately(this.model.anchorPoint[this.adapter.crossAxis],this.transform.anchorPoint[this.adapter.crossAxis]);this.model.anchorPoint.x=this.transform.anchorPoint.x,this.model.anchorPoint.y=this.transform.anchorPoint.y,e&&t||this.view.internal_holderChanged(e)},t(e,[{key:"node",get:function(){return this._node}},{key:"transform",get:function(){return this._transform}},{key:"code",get:function(){return this._code}},{key:"adapter",get:function(){return this._adapter}},{key:"model",get:function(){return this._model}},{key:"view",get:function(){return this._view}},{key:"data",get:function(){return this._model&&this._model.data}},{key:"fixedIndex",get:function(){return this._fixedIndex}},{key:"oldData",get:function(){return this._oldData}},{key:"element",get:function(){return this._model&&this._model.element}},{key:"index",get:function(){return this._model&&this._model.index}}]),e}())||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/home.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,r,n,c;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,r=o._decorator,n=o.director,c=o.Component}],execute:function(){var i;e._RF.push({},"a402fmmXFtF6r0IWio7Y0gD","home",void 0);var u=r.ccclass;r.property,o("home",u("home")(i=function(o){function e(){return o.apply(this,arguments)||this}t(e,o);var r=e.prototype;return r.start=function(){},r.go=function(o,t){n.loadScene(t)},e}(c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/horiznal_scale_card_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./helper.ts"],(function(e){var t,r,i,a,n,o,l,s,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Label,s=e.Component},null,function(e){h=e.Helper}],execute:function(){var c,d,p,_,u;n._RF.push({},"f2e355YhhRGGLGODyETS6Zp","horiznal_scale_card_item",void 0);var f=o.ccclass,m=o.property;e("horiznal_scale_card_item",(c=f("horiznal_scale_card_item"),d=m(l),c((u=t((_=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"label",u,a(t)),t._holder=void 0,t}r(t,e);var n=t.prototype;return n.start=function(){},n.show=function(e){this._holder=e,this.label.string=e.data.name},n.hide=function(){},n.click=function(){350==this._holder.transform.height?this._holder.transform.height=200:this._holder.transform.height=350},n.lateUpdate=function(){if(this._holder&&this._holder.model){this._holder.view.index;var e=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),t=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(e),r=this._holder.adapter.centerManager.getContainerOffset(),i=Math.abs(t[this._holder.adapter.mainAxis])-r,a=Math.abs(i)/this._holder.adapter.mainAxisSize;a=1-a,a=h.clamp(a,.3,1);var n=this.node.getScale();n[this._holder.adapter.mainAxis]=a,this.node.setScale(n)}},t}(s)).prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/horiznal_scale_card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./horiznal_scale_card_item.ts","./ScrollAdapter.ts","./View.ts","./Holder.ts"],(function(t){var n,r,e,i,o,c,a,l,s,u,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Prefab},null,function(t){l=t.horiznal_scale_card_item},function(t){s=t.ScrollAdapter},function(t){u=t.View},function(t){f=t.Holder}],execute:function(){var p,h,d,_,y;o._RF.push({},"35843AWcvNIBYC11Ij8+wfZ","horiznal_scale_card",void 0);var b=c.ccclass,g=c.property,v=(t("horiznal_scale_card",(p=b("horiznal_scale_card"),h=g(a),p((y=n((_=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return n=t.call.apply(t,[this].concat(o))||this,e(n,"prefab",y,i(n)),n}r(n,t);var o=n.prototype;return o.getPrefab=function(t){return this.prefab},o.getHolder=function(t,n){return new w(t,n,this)},o.getView=function(){return new v(this)},o.initElement=function(t,n){},o.start=function(){for(var t=[],n=0;n<20;n++)t.push({name:n,index:n});this.modelManager.insert(t)},o.click=function(){this.scrollManager.scrollToHeader(0)},o.click2=function(){this.scrollManager.scrollToFooter(1)},n}(s)).prototype,"prefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=_))||d)),function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var e=n.prototype;return e.onVisible=function(){},e.onDisable=function(){},n}(u)),w=function(t){function n(){for(var n,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._script=null,n}r(n,t);var e=n.prototype;return e.onCreated=function(){this._script=this.node.getComponent(l)},e.onVisible=function(){this._script.show(this)},e.onDisable=function(){this._script.hide()},n}(f);o._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./CenterManager.ts","./LayoutManager.ts","./ModelManager.ts","./PageViewManager.ts","./ReleaseManager.ts","./ScrollManager.ts","./ViewManager.ts","./Group.ts","./Holder.ts","./Manager.ts","./ScrollAdapter.ts","./View.ts","./Indicator.ts","./Scrollbar.ts","./debug.ts","./enum.ts","./interface.ts","./helper.ts"],(function(e){var n;return{setters:[function(e){n=e.cclegacy},function(n){e("CenterManager",n.CenterManager)},function(n){e("LayoutManager",n.LayoutManager)},function(n){e("ModelManager",n.ModelManager)},function(n){e("PageViewManager",n.PageViewManager)},function(n){var r={};r.ReleaseEvent=n.ReleaseEvent,r.ReleaseManager=n.ReleaseManager,e(r)},function(n){var r={};r.ADAPTER=n.ADAPTER,r.ScrollManager=n.ScrollManager,e(r)},function(n){e("ViewManager",n.ViewManager)},function(n){e("Group",n.Group)},function(n){e("Holder",n.Holder)},function(n){e("Manager",n.Manager)},function(n){e("ScrollAdapter",n.ScrollAdapter)},function(n){e("View",n.View)},function(n){e("Indicator",n.Indicator)},function(n){e("Scrollbar",n.Scrollbar)},function(n){var r={};r.ADAPTER_DEBUG_CONTENT=n.ADAPTER_DEBUG_CONTENT,r.ADAPTER_DEBUG_VIEW=n.ADAPTER_DEBUG_VIEW,r.DEBUG_DRAW_BORDER_COLOR=n.DEBUG_DRAW_BORDER_COLOR,r.DEBUG_DRAW_FILL_COLOR=n.DEBUG_DRAW_FILL_COLOR,r.DEBUG_DRAW_LIND_WIDTH=n.DEBUG_DRAW_LIND_WIDTH,r.DEBUG_DRAW_LINE_COLOR=n.DEBUG_DRAW_LINE_COLOR,e(r)},function(n){var r={};r.AlwaysScroll=n.AlwaysScroll,r.ArrangeAxis=n.ArrangeAxis,r.ChildAlignment=n.ChildAlignment,r.HolderEvent=n.HolderEvent,r.IndicatorMode=n.IndicatorMode,r.Layer=n.Layer,r.MagneticDirection=n.MagneticDirection,r.MovementType=n.MovementType,r.NestedDirection=n.NestedDirection,r.Orientation=n.Orientation,r.ReleaseState=n.ReleaseState,r.ScrollDirection=n.ScrollDirection,r.ScrollbarDirection=n.ScrollbarDirection,r.StretchDirection=n.StretchDirection,r.TouchMode=n.TouchMode,r.Transition=n.Transition,r.ViewEvent=n.ViewEvent,r.WrapMode=n.WrapMode,e(r)},null,function(n){e("Helper",n.Helper)}],execute:function(){n._RF.push({},"5be24sUODxN4578M0VnyahK","index",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Indicator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScrollAdapter.ts","./enum.ts","./PageViewManager.ts"],(function(e){var t,i,n,a,r,o,l,s,c,p,u,h,d,g,f,_,y,m,v,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,l=e._decorator,s=e.SpriteFrame,c=e.Color,p=e.Node,u=e.Sprite,h=e.UITransform,d=e.Button,g=e.EventHandler,f=e.Layout,_=e.Component,y=e.Size},function(e){m=e.ScrollAdapter},function(e){v=e.IndicatorMode},function(e){C=e.PageViewManager}],execute:function(){var S,w,M,b,z,I,E,L,P,T,A;o._RF.push({},"39a65BHli1DW4GsARI0mFR5","Indicator",void 0);var N=l.ccclass,R=l.property;e("Indicator",(S=N("Indicator"),w=R(m),M=R({type:s}),b=R({type:v}),S((E=t((I=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"adapter",E,a(t)),n(t,"spriteFrame",L,a(t)),n(t,"indicatorMode",P,a(t)),n(t,"cellSize",T,a(t)),n(t,"spacing",A,a(t)),t._indicators=[],t._layout=null,t._color=new c,t}i(t,e);var o=t.prototype;return o.__preload=function(){this.adapter&&(this.adapter.pageViewManager.on(C.Event.ON_PAGE_LENGTH_CHANGED,this._onPageLengthChanged,this),this.adapter.pageViewManager.on(C.Event.ON_SCROLL_PAGE_END,this._onScrollPageEnd,this))},o._onScrollPageEnd=function(){this.changedState()},o._onPageLengthChanged=function(){if(this.adapter){var e=this._indicators,t=this.adapter.viewManager.groupLength;if(t!==e.length){var i=0;if(t>e.length)for(i=0;i<t;++i)e[i]||(e[i]=this._createIndicator(i));else for(i=e.length-t;i>0;--i){var n=e[i-1];this.node.removeChild(n.node),e.splice(i-1,1)}this.layout&&this.layout.enabledInHierarchy&&this.layout.updateLayout(),this.changedState()}}},o._createIndicator=function(e){var t=new p;t.layer=this.node.layer;var i=t.addComponent(u);i.spriteFrame=this.spriteFrame,i.sizeMode=u.SizeMode.CUSTOM,t.parent=this.node;var n=t.getComponent(h);if(n.setContentSize(this.cellSize),this.indicatorMode==v.Button){var a=t.getComponent(d)||t.addComponent(d),r=new g;r.component="Indicator",r.handler="_click",r.target=this.node,r.customEventData=e,a.clickEvents.push(r)}return n},o._click=function(e,t){this.adapter.pageViewManager.scrollToPage(this.adapter.pageViewManager.pageTurningSpeed,t)},o.changedState=function(){var e=this._indicators;if(0!==e.length&&this.adapter){var t=this.adapter.pageViewManager.currentIndex;if(!(t>=e.length)){for(var i=0;i<e.length;++i){var n=e[i].getComponent(u);this._color.set(n.color),this._color.a=127.5,n.color=this._color}if(e[t]){var a=e[t].getComponent(u);this._color.set(a.color),this._color.a=255,a.color=this._color}}}},r(t,[{key:"layout",get:function(){return null==this._layout&&(this._layout=this.getComponent(f)||this.addComponent(f),this.adapter.isHorizontal?(this._layout.type=f.Type.HORIZONTAL,this._layout.spacingX=this.spacing):(this._layout.type=f.Type.VERTICAL,this._layout.spacingY=this.spacing),this._layout.resizeMode=f.ResizeMode.CONTAINER),this._layout}}]),t}(_)).prototype,"adapter",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"spriteFrame",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(I.prototype,"indicatorMode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.Normal}}),T=t(I.prototype,"cellSize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y(10,10)}}),A=t(I.prototype,"spacing",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),z=I))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/interface.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3d52dVTlbBOz7Wijt15IBJI","interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/item_page.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./page_item.ts","./ScrollAdapter.ts","./View.ts","./Holder.ts"],(function(e){var t,n,i,r,o,a,l,u,c,s,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,u=e.Node},null,function(e){c=e.page_item},function(e){s=e.ScrollAdapter},function(e){p=e.View},function(e){f=e.Holder}],execute:function(){var h,d,b,g,m,_,y;o._RF.push({},"333d6buM2ZC6ab6/F873WSZ","item_page",void 0);var v=a.ccclass,w=a.property,D=(e("item_page",(h=v("item_page"),d=w(l),b=w(u),h((_=t((m=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"label",_,r(t)),i(t,"prefab",y,r(t)),t._holder=null,t}n(t,e);var o=t.prototype;return o.getPrefab=function(e){return this.prefab},o.getView=function(){return new D(this)},o.getHolder=function(e,t){return new V(e,t,this)},o.initElement=function(e,t){},o.show=function(e){this._holder=e,this.label.string=this._holder.data.name;for(var t=[],n=0;n<10;n++)t.push({name:n});this.modelManager.insert(t)},o.hide=function(){this.modelManager.clear()},t}(s)).prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(m.prototype,"prefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.onVisible=function(){},i.onDisable=function(){},t}(p)),V=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this)._item=null,t}n(t,e);var i=t.prototype;return i.onCreated=function(){this._item=this.node.getComponent(c)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},t}(f);o._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./helper.ts"],(function(t){var e,i,r,n,o,l,a,s,h,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,a=t._decorator},function(t){s=t.Manager},function(t){h=t.ChildAlignment,c=t.Orientation},function(t){p=t.Helper}],execute:function(){var g,u,_,f,d,z,S,y,A,m,x,H,E,b,O,T,v,C,L,W,M,D,P,N,w;l._RF.push({},"d91f5nGeD5IbK7eVk2CJPJh","LayoutManager",void 0);var k=a.ccclass,I=a.property,U=function(t){return t[t.ON_LAYOUT_COMPLATED=0]="ON_LAYOUT_COMPLATED",t[t.ON_CHANGED_LAYOUT_STATE=1]="ON_CHANGED_LAYOUT_STATE",t}(U||{});t("LayoutManager",(g=k("LayoutManager"),u=I({type:h}),_=I({type:h,tooltip:"布局元素的对齐方式"}),f=I({tooltip:"元素交叉轴布局的间距"}),d=I({tooltip:"反转布局"}),z=I({tooltip:"延迟布局，开启后会统一在下一帧布局，建议开启"}),S=I({group:{id:"0",name:"forceExpand"},tooltip:"是否强制布局元素宽度扩展以填充额外的可用空间"}),y=I({group:{id:"0",name:"forceExpand"},tooltip:"是否强制布局元素高度扩展以填充额外的可用空间"}),A=I({group:{id:"0",name:"controlSize"},tooltip:"如果设置为 false，布局只会影响元素的位置，而不会影响宽度，在这种情况下你可以设置元素的宽度\n如果设置为 true，元素的宽度将由布局根据它们各自的 IElement.minSize、IElement.preferredSize、IElement.flexibleSize自动设置。如果元素的宽度应根据可用空间的大小而变化，应开启此功能。在这种情况下不能直接设置每个元素的宽度，但可以通过控制每个元素的IElement.minSize、IElement.preferredSize、IElement.flexibleSize来进行控制"}),m=I({group:{id:"0",name:"controlSize"},tooltip:"如果设置为 false，布局只会影响元素的位置，而不会影响高度，在这种情况下你可以设置元素的高度\n如果设置为 true，元素的高度将由布局根据它们各自的 IElement.minSize、IElement.preferredSize、IElement.flexibleSize自动设置。如果元素的高度应根据可用空间的大小而变化，应开启此功能。在这种情况下不能直接设置每个元素的高度，但可以通过控制每个元素的IElement.minSize、IElement.preferredSize、IElement.flexibleSize来进行控制"}),x=I({group:{id:"0",name:"controlScale"},tooltip:"是否使用 x 缩放计算宽度"}),H=I({group:{id:"0",name:"controlScale"},tooltip:"是否使用 y 缩放计算高度"}),g(((w=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_childAlignment",O,n(e)),r(e,"_spacing",T,n(e)),r(e,"_reverseArrangement",v,n(e)),r(e,"delayLayout",C,n(e)),r(e,"_forceExpandWidth",L,n(e)),r(e,"_forceExpandHeight",W,n(e)),r(e,"_controlSizeWidth",M,n(e)),r(e,"_controlSizeHeight",D,n(e)),r(e,"_controlScaleWidth",P,n(e)),r(e,"_controlScaleHeight",N,n(e)),e._isDirty=!1,e._layoutQueue=[],e}i(e,t);var l=e.prototype;return l.onInit=function(){},l.layout=function(t){t&&(this.delayLayout?(this.unLayout(t.index),this._layoutQueue.push(t),this._isDirty=!0):(this._layoutHandler(t),this.emit(U.ON_LAYOUT_COMPLATED,[t.index])))},l.unLayout=function(t){-1!=(t=this._layoutQueue.findIndex((function(e){return e.index==t})))&&this._layoutQueue.splice(t,1)},l._layoutHandler=function(t){this._calcAlongAxis(t,c.Horizontal,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,c.Horizontal,this.adapter.isHorizontal),this._calcAlongAxis(t,c.Vertical,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,c.Vertical,this.adapter.isHorizontal)},l._calcAlongAxis=function(t,e,i){for(var r=e==c.Horizontal?this.horizontal:this.vertical,n=this._getControlSize(e),o=this._getControlScale(e),l=this._getForceExpandSize(e),a=r,s=r,h=0,p=i!=(e==c.Vertical),g=this._getLayoutList(t.models),u=0;u<g.length;u++){var _=g[u],f=this._getChildSizes(_,e,n,l),d=f.min,z=f.preferred,S=f.flexible;if(o){var y=_.scale[this._getAxis(e)];d*=y,z*=y,S*=y}p?(a=Math.max(d+r,a),s=Math.max(z+r,s),h=Math.max(S,h)):(a+=d+this.spacing,s+=z+this.spacing,h+=S)}!p&&g.length>0&&(a-=this.spacing,s-=this.spacing),s=Math.max(a,s),this._setLayoutInputForAxis(t,a,s,h,e)},l._getControlSize=function(t){return t==c.Horizontal?this.controlSizeWidth:this.controlSizeHeight},l._getControlScale=function(t){return t==c.Horizontal?this.controlScaleWidth:this.controlScaleHeight},l._getForceExpandSize=function(t){return t==c.Horizontal?this.forceExpandWidth:this.forceExpandHeight},l._setChildrenAlongAxis=function(t,e,i){var r=t.size[this._getAxis(e)],n=this._getControlSize(e),o=this._getControlScale(e),l=this._getForceExpandSize(e),a=this._getAlignmentOnAxis(e),s=this._getLayoutList(t.models),h=i!=(e==c.Vertical),g=this.reverseArrangement?s.length-1:0,u=this.reverseArrangement?0:s.length,_=this.reverseArrangement?-1:1,f=this._getAxis(e);if(h)for(var d=r-(e==c.Horizontal?this.horizontal:this.vertical),z=g;this.reverseArrangement?z>=u:z<u;z+=_){var S=s[z],y=this._getChildSizes(S,e,n,l),A=y.min,m=y.preferred,x=y.flexible,H=o?S.scale[f]:1,E=p.clamp(d,A,x>0?r:m),b=this._getStartOffset(t,e,E*H);if(n)this._setChildAlongAxisWithScale(t,S,e,b,H,E);else{var O=(E-S.size[f])*a;O*=H,this._setChildAlongAxisWithScale(t,S,e,b+O,H)}}else{var T=e==c.Horizontal?this.left:this.top,v=0,C=r-this._getTotalPreferredSize(t,e);C>0&&(0==this._getTotalFlexibleSize(t,e)?T=this._getStartOffset(t,e,this._getTotalPreferredSize(t,e)-(e==c.Horizontal?this.horizontal:this.vertical)):this._getTotalFlexibleSize(t,e)>0&&(v=C/this._getTotalFlexibleSize(t,e)));var L=0;this._getTotalMinSize(t,e)!=this._getTotalPreferredSize(t,e)&&(L=p.clamp01((r-this._getTotalMinSize(t,e))/(this._getTotalPreferredSize(t,e)-this._getTotalMinSize(t,e))));for(z=g;this.reverseArrangement?z>=u:z<u;z+=_){var W=s[z],M=this._getChildSizes(W,e,n,l),D=(A=M.min,m=M.preferred,x=M.flexible,o?W.scale[f]:1),P=p.lerp(A,m,L);if(P+=x*v,n)this._setChildAlongAxisWithScale(t,W,e,T,D,P);else{O=(P-W.size[f])*a;this._setChildAlongAxisWithScale(t,W,e,T+O,D)}T+=P*D+this.spacing}}},l._setChildAlongAxisWithScale=function(t,e,i,r,n,o){if(null!=e){var l=this._getAxis(i),a=0;isNaN(o)?a=e.size[l]:(e.layoutSize[l]=o,a=o);var s={x:e.position.x,y:e.position.y},h=0;i==c.Horizontal?(h=r+a*e.anchorPoint[l]*n,h-=t.size[l]*t.anchorPoint[l],h+=t.position[l]):(h=-r-a*(1-e.anchorPoint[l])*n,h+=t.size[l]*(1-t.anchorPoint[l]),h+=t.position[l]),s[l]=h,e.position=s}},l._getStartOffset=function(t,e,i){var r=i+(e==c.Horizontal?this.horizontal:this.vertical),n=t.size[this._getAxis(e)]-r,o=this._getAlignmentOnAxis(e);return(e==c.Horizontal?this.left:this.top)+n*o},l._setLayoutInputForAxis=function(t,e,i,r,n){var o=this._getAxis(n);t.totalMinSize[o]=e,t.totalPreferredSize[o]=i,t.totalFlexibleSize[o]=r},l._getAxis=function(t){return t==c.Horizontal?"x":"y"},l._getMinSize=function(t,e){return t.minSize[this._getAxis(e)]},l._getPreferredSize=function(t,e){var i=this._getAxis(e);return Math.max(t.minSize[i],t.preferredSize[i])},l._getFlexibleSize=function(t,e){return t.flexibleSize[this._getAxis(e)]},l._getTotalMinSize=function(t,e){return t.totalMinSize[this._getAxis(e)]},l._getTotalPreferredSize=function(t,e){return t.totalPreferredSize[this._getAxis(e)]},l._getTotalFlexibleSize=function(t,e){return t.totalFlexibleSize[this._getAxis(e)]},l._getChildSizes=function(t,e,i,r){var n,o,l;return i?(n=this._getMinSize(t.element,e),o=this._getPreferredSize(t.element,e),l=this._getFlexibleSize(t.element,e)):(o=n=t.size[this._getAxis(e)],l=0),r&&(l=Math.max(l,1)),{min:n,preferred:o,flexible:l}},l._getAlignmentOnAxis=function(t){return t==c.Horizontal?this.adapter.layoutManager.childAlignment%3*.5:.5*Math.floor(this.adapter.layoutManager.childAlignment/3)},l._getLayoutList=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.element.ignoreLayout||e.push(r)}return e},l.internal_lateUpdate=function(t){if(this._isDirty){this._isDirty=!1;for(var e=[];this._layoutQueue.length>0;){var i=this._layoutQueue.shift();this._layoutHandler(i),e.push(i.index)}e.length>0&&this.emit(U.ON_LAYOUT_COMPLATED,e)}},o(e,[{key:"childAlignment",get:function(){return this._childAlignment},set:function(t){t!=this._childAlignment&&(this._childAlignment=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"spacing",get:function(){return this._spacing},set:function(t){t!=this._spacing&&(this._spacing=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"reverseArrangement",get:function(){return this._reverseArrangement},set:function(t){t!=this._reverseArrangement&&(this._reverseArrangement=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"forceExpandWidth",get:function(){return this._forceExpandWidth},set:function(t){t!=this._forceExpandWidth&&(this._forceExpandWidth=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"forceExpandHeight",get:function(){return this._forceExpandHeight},set:function(t){t!=this._forceExpandHeight&&(this._forceExpandHeight=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"controlSizeWidth",get:function(){return this._controlSizeWidth},set:function(t){t!=this._controlSizeWidth&&(this._controlSizeWidth=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"controlSizeHeight",get:function(){return this._controlSizeHeight},set:function(t){t!=this._controlSizeHeight&&(this._controlSizeHeight=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"controlScaleWidth",get:function(){return this._controlScaleWidth},set:function(t){t!=this._controlScaleWidth&&(this._controlScaleWidth=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"controlScaleHeight",get:function(){return this._controlScaleHeight},set:function(t){t!=this._controlScaleHeight&&(this._controlScaleHeight=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"top",get:function(){return this.adapter.isVertical?0:this.adapter.viewManager.top}},{key:"bottom",get:function(){return this.adapter.isVertical?0:this.adapter.viewManager.bottom}},{key:"left",get:function(){return this.adapter.isHorizontal?0:this.adapter.viewManager.left}},{key:"right",get:function(){return this.adapter.isHorizontal?0:this.adapter.viewManager.right}},{key:"horizontal",get:function(){return this.left+this.right}},{key:"vertical",get:function(){return this.top+this.bottom}},{key:"isControlMainAxisSize",get:function(){return this.adapter.isHorizontal&&this.controlSizeWidth||this.adapter.isVertical&&this.controlSizeHeight}},{key:"isControlCrossAxisSize",get:function(){return this.adapter.isHorizontal&&this.controlSizeHeight||this.adapter.isVertical&&this.controlSizeWidth}},{key:"isControlCrossAxisScale",get:function(){return this.adapter.isHorizontal&&this.controlScaleHeight||this.adapter.isVertical&&this.controlScaleWidth}}]),e}(s)).Event=U,O=e((b=w).prototype,"_childAlignment",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.UpperLeft}}),e(b.prototype,"childAlignment",[_],Object.getOwnPropertyDescriptor(b.prototype,"childAlignment"),b.prototype),T=e(b.prototype,"_spacing",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(b.prototype,"spacing",[f],Object.getOwnPropertyDescriptor(b.prototype,"spacing"),b.prototype),v=e(b.prototype,"_reverseArrangement",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"reverseArrangement",[d],Object.getOwnPropertyDescriptor(b.prototype,"reverseArrangement"),b.prototype),C=e(b.prototype,"delayLayout",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L=e(b.prototype,"_forceExpandWidth",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"forceExpandWidth",[S],Object.getOwnPropertyDescriptor(b.prototype,"forceExpandWidth"),b.prototype),W=e(b.prototype,"_forceExpandHeight",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(b.prototype,"forceExpandHeight",[y],Object.getOwnPropertyDescriptor(b.prototype,"forceExpandHeight"),b.prototype),M=e(b.prototype,"_controlSizeWidth",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"controlSizeWidth",[A],Object.getOwnPropertyDescriptor(b.prototype,"controlSizeWidth"),b.prototype),D=e(b.prototype,"_controlSizeHeight",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"controlSizeHeight",[m],Object.getOwnPropertyDescriptor(b.prototype,"controlSizeHeight"),b.prototype),P=e(b.prototype,"_controlScaleWidth",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"controlScaleWidth",[x],Object.getOwnPropertyDescriptor(b.prototype,"controlScaleWidth"),b.prototype),N=e(b.prototype,"_controlScaleHeight",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"controlScaleHeight",[H],Object.getOwnPropertyDescriptor(b.prototype,"controlScaleHeight"),b.prototype),E=b))||E));l._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Group.ts","./Holder.ts","./Manager.ts","./ScrollAdapter.ts","./View.ts","./Indicator.ts","./Scrollbar.ts","./debug.ts","./enum.ts","./interface.ts","./helper.ts","./index.ts","./CenterManager.ts","./LayoutManager.ts","./ModelManager.ts","./PageViewManager.ts","./ReleaseManager.ts","./ScrollManager.ts","./ViewManager.ts","./card.ts","./card_item.ts","./chat.ts","./chat_Item.ts","./edit.ts","./edit_item.ts","./fixed.ts","./fixed_item.ts","./home.ts","./horiznal_scale_card.ts","./horiznal_scale_card_item.ts","./item_page.ts","./pageView.ts","./pageView_item.ts","./page_item.ts","./summary.ts","./test.ts","./test_item.ts","./time.ts","./time_item.ts","./time_main.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Manager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,a=t._decorator}],execute:function(){var i;n._RF.push({},"9e556t6rHxO6ZbZa4CSsrXu","Manager",void 0);var r=a.ccclass;a.property,t("Manager",r("Manager")(i=function(){function t(){this._inited=!1,this._eventMap=new Map,this._adapter=null}var n=t.prototype;return n.internal_create=function(t){this._adapter=t},n.internal_init=function(){this._inited||(this._inited=!0,this.onInit())},n.on=function(t,e,n,a){void 0===a&&(a=!1),this._eventMap.has(t)||this._eventMap.set(t,[]);var i=this._eventMap.get(t);null!=i&&i.find((function(t){return t.target==n&&t.callback==e}))||i.push({callback:e,target:n,once:a})},n.off=function(t,e,n){if(this._eventMap.has(t)){var a=this._eventMap.get(t),i=null==a?void 0:a.findIndex((function(t){return t.callback==e&&t.target==n}));-1!=i&&a.splice(i,1)}},n.emit=function(t){if(this._eventMap.has(t)){for(var e=this._eventMap.get(t),n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];for(var r=0;r<e.length;r++){var c,s=e[r];(c=s.callback).call.apply(c,[s.target].concat(a)),s.once&&(e.splice(r,1),r--)}}},e(t,[{key:"adapter",get:function(){return this._adapter}}]),t}())||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/ModelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./helper.ts"],(function(e){var t,n,i,o,r,a,s,l,c,h,d,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,l=e.UITransform},function(e){c=e.Manager},function(e){h=e.WrapMode,d=e.Layer},function(e){u=e.Helper}],execute:function(){var f,_;r._RF.push({},"18c36plR9VHHbXIt40bKQ+w","ModelManager",void 0);var p=a.ccclass,y=(a.property,function(e){return e[e.ON_CLEAR=0]="ON_CLEAR",e[e.ON_INSERT=1]="ON_INSERT",e[e.ON_REMOVE=2]="ON_REMOVE",e[e.ON_MOVE=3]="ON_MOVE",e[e.ON_UPDATE=4]="ON_UPDATE",e[e.ON_CHANGE_BEFORE=5]="ON_CHANGE_BEFORE",e}(y||{}));e("ModelManager",p("ModelManager")(((_=function(e){function r(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._modelList=[],t._length=0,t}t(r,e);var a=r.prototype;return a.onInit=function(){},a.insert=function(){var e=i(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===n&&(n=this.length),i=this._toArray(t),n=u.clamp(n,0,this.length),this.emit(y.ON_CHANGE_BEFORE),this._insertHandler(i,n),this._length=this._modelList.length,i.length>0&&this.emit(y.ON_INSERT,n);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),a._insertHandler=function(e,t){var n=this,i=t;this._length=this._modelList.length;for(var o=[],r=function(e,t){return(u=n._getNewModel(e)).index=t,n._modelList.push(u),u},a=function(e){var t=n.get(i);if(t)o.push(n._copyModel(t,{})),t.data=e,t.index=i,n._initModel(t);else{var a=r(e,i);n._initModel(a)}i++},s=0,l=e.length;s<l;s++)a(e[s]);for(var c=0;c<o.length;c++){var h=o[c],d=i+c;if(this.get(d)){var u=this.get(d);o.push(this._copyModel(u,{})),this._copyModel(h,u)}else{var f=r(h.data,d);this._copyModel(h,f)}}},a.remove=function(e,t){if(void 0===t&&(t=1),0!=t&&!(e<0||e>=this.length)){var n=this.length;this.emit(y.ON_CHANGE_BEFORE);for(var i=e;i<this.length;i++){var o=this.get(i),r=this.get(i+t);if(!r){n=i;break}this._copyModel(r,o),o.index=i}this._modelList.splice(n,this.length),this._length=this._modelList.length,this.emit(y.ON_REMOVE,e)}},a.move=function(e,t,n){var i=this;if(!(e<0||t<=0)){this.emit(y.ON_CHANGE_BEFORE);var o=this._modelList.map((function(e){return i._copyModel(e,{})})),r=o.splice(e,t);o.splice.apply(o,[n,0].concat(r));for(var a=0;a<o.length;a++)this._copyModel(o[a],this._modelList[a]);var s=Math.min(e,n);this.emit(y.ON_MOVE,s)}},a.update=function(){this.emit(y.ON_UPDATE)},a.clear=function(){this._modelList.length=0,this._length=0,this.emit(y.ON_CLEAR)},a.has=function(e){return!!this._modelList[e]},a.get=function(e){return isNaN(e)?null:this._modelList[e]},a.slice=function(e,t){return 0==this.length?[]:this._modelList.slice(e,t)},a._toArray=function(e){return e?e instanceof Array?e:[e]:[]},a._getNewModel=function(e){return{data:e,index:-1,code:null,size:{x:0,y:0},layoutSize:{x:0,y:0},scale:{x:0,y:0},position:{x:0,y:0},anchorPoint:{x:0,y:0},element:{wrapBeforeMode:h.Wrap,wrapAfterMode:h.Nowrap,ignoreLayout:!1,placeholder:!1,minSize:{x:0,y:0},preferredSize:{x:0,y:0},flexibleSize:{x:0,y:0},layer:d.Lowest,fixed:!1,fixedOffset:0,fixedSpacing:null,update:function(){}},isValid:!0,update:function(){}}},a._initModel=function(e){var t=this.adapter.getPrefab(e.data);if(!t)throw Error("预制体不能为空");if(t instanceof s){var n=t.getComponent(l);e.code=t.uuid,e.size={x:n.width,y:n.height},e.scale={x:n.node.scale.x,y:n.node.scale.y},e.anchorPoint={x:n.anchorPoint.x,y:n.anchorPoint.y}}else{var i=t.data.getComponent(l);e.code=t.data._prefab.fileId,e.size={x:i.width,y:i.height},e.scale={x:i.node.scale.x,y:i.node.scale.y},e.anchorPoint={x:i.anchorPoint.x,y:i.anchorPoint.y}}e.layoutSize={x:0,y:0},e.position={x:0,y:0},e.element={wrapBeforeMode:h.Wrap,wrapAfterMode:h.Nowrap,ignoreLayout:!1,placeholder:!1,minSize:{x:0,y:0},preferredSize:{x:0,y:0},flexibleSize:{x:0,y:0},layer:d.Lowest,fixed:!1,fixedOffset:0,fixedSpacing:null,update:function(){}},this.adapter.initElement(e.element,e.data)},a._copyModel=function(e,t){e.element.update=function(){};return function e(t,n){for(var i in t){var o=t[i];"data"!=i?"index"!=i&&(null!=o&&"object"==typeof o?(n[i]={},e(o,n[i])):n[i]=o):n[i]=o}}(e,t),t},n(r,[{key:"length",get:function(){return this._length}},{key:"modelList",get:function(){return this._modelList}}]),r}(c)).Event=y,f=_))||f);r._RF.pop()}}}));

System.register("chunks:///_virtual/page_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./helper.ts"],(function(e){var t,i,r,a,o,n,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,l=e.Label,s=e.Component},null,function(e){c=e.Helper}],execute:function(){var h,d,p,u,_,f;o._RF.push({},"144b8nb7VtKSKwcAg6xFiXY","page_item",void 0);var g=n.ccclass,b=n.property;e("page_item",(h=g("page_item"),d=b(l),h((_=t((u=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"label",_,a(t)),r(t,"isScale",f,a(t)),t._holder=void 0,t}i(t,e);var o=t.prototype;return o.show=function(e){this._holder=e,this.label.string=this._holder.data.name},o.hide=function(){},o.click=function(){this.isScale&&this._holder.adapter.scrollManager.scrollToGroupIndex(1,this._holder.view.index)},o.update=function(){if(this.isScale&&this._holder&&this._holder.model){var e=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),t=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(e),i=this._holder.adapter.centerManager.getContainerOffset(),r=Math.abs(t[this._holder.adapter.mainAxis])-i,a=Math.abs(r)/this._holder.adapter.mainAxisSize;a=1-a,a=c.clamp(a,.3,1);var o=this.node.getScale();o[this._holder.adapter.mainAxis]=a,o[this._holder.adapter.crossAxis]=a,this.node.setScale(o)}},t}(s)).prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=t(u.prototype,"isScale",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=u))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/pageView_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./item_page.ts","./page_item.ts","./enum.ts","./ScrollAdapter.ts","./View.ts","./Holder.ts"],(function(e){var t,i,n,r,o,a,l,u,p,s,c,f,h,d,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,u=e.Prefab,p=e.Node},null,function(e){s=e.item_page},function(e){c=e.page_item},function(e){f=e.WrapMode},function(e){h=e.ScrollAdapter},function(e){d=e.View},function(e){b=e.Holder}],execute:function(){var m,g,w,y,_,v,A,V,M;o._RF.push({},"58d34yHUJBMr6bNe9N2eji9","pageView_item",void 0);var z=a.ccclass,B=a.property,D=(e("pageView_item",(m=z("pageView_item"),g=B(l),w=B(u),y=B(p),m((A=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"label",A,r(t)),n(t,"prefab1",V,r(t)),n(t,"prefab2",M,r(t)),t._holder=void 0,t}i(t,e);var o=t.prototype;return o.getPrefab=function(e){return 0==e.type?this.prefab1:this.prefab2},o.getView=function(){return new D(this)},o.getHolder=function(e,t){return new H(e,t,this)},o.initElement=function(e,t){t.wrapAfter&&(e.wrapAfterMode=t.wrapAfter,e.wrapBeforeMode=t.wrapBefore)},o.show=function(e){this._holder=e,this.label.string=this._holder.data.name;for(var t=[],i=0;i<10;i++){var n={name:i+"",type:i%2};0==this._holder.data.type&&(n.wrapAfter=f.Nowrap,n.wrapBefore=i%2==1?f.Auto:f.Wrap),t.push(n)}this.modelManager.insert(t)},o.hide=function(){this.modelManager.clear()},t}(h)).prototype,"label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(v.prototype,"prefab1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(v.prototype,"prefab2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=v))||_)),function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.onVisible=function(){},n.onDisable=function(){},t}(d)),H=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._item=null,t}i(t,e);var n=t.prototype;return n.onCreated=function(){},n.onVisible=function(){0!=this.data.type?this._item=this.node.getComponent(s):this._item=this.node.getComponent(c),this._item.show(this)},n.onDisable=function(){this._item.hide()},t}(b);o._RF.pop()}}}));

System.register("chunks:///_virtual/pageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./pageView_item.ts","./ScrollAdapter.ts","./View.ts","./Holder.ts"],(function(e){var t,n,i,r,o,a,c,l,u,s,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Prefab,l=e.director},null,function(e){u=e.pageView_item},function(e){s=e.ScrollAdapter},function(e){p=e.View},function(e){f=e.Holder}],execute:function(){var h,g,b,w,d,y,m;o._RF.push({},"e19ce/HBJlJTqHa8oS0cj0o","pageView",void 0);var v=a.ccclass,V=a.property,P=(e("pageView",(h=v("pageView"),g=V(c),b=V(c),h((y=t((d=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"prefab1",y,r(t)),i(t,"prefab2",m,r(t)),t}n(t,e);var o=t.prototype;return o.getPrefab=function(e){return 0==e.type?this.prefab1:this.prefab2},o.getHolder=function(e,t){return new _(e,t,this)},o.getView=function(){return new P(this)},o.initElement=function(e,t){},o.home=function(){l.loadScene("home")},o.start=function(){for(var e=[],t=0;t<10;t++)e.push({name:"# "+t,type:t%2});this.modelManager.insert(e)},o.scrollToPrevPage=function(){this.pageViewManager.scrollToPrevPage()},o.scrollToNextPage=function(){this.pageViewManager.scrollToNextPage()},t}(s)).prototype,"prefab1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(d.prototype,"prefab2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=d))||w)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.onVisible=function(){},i.onDisable=function(){},t}(p)),_=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this)._item=null,t}n(t,e);var i=t.prototype;return i.onCreated=function(){this._item=this.node.getComponent(u)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},t}(f);o._RF.pop()}}}));

System.register("chunks:///_virtual/PageViewManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./ScrollManager.ts","./ViewManager.ts"],(function(e){var t,n,i,r,a,o,s,l,h,c,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator},function(e){l=e.Manager},function(e){h=e.AlwaysScroll},function(e){c=e.ScrollManager},function(e){g=e.ViewManager}],execute:function(){var u,d,_,p,f,b,E,T,O,v,L,S,P,N;o._RF.push({},"9a9b8/q4JFHHb650TtGE+gS","PageViewManager",void 0);var M=s.ccclass,x=s.property,I=function(e){return e[e.ON_PAGE_LENGTH_CHANGED=0]="ON_PAGE_LENGTH_CHANGED",e[e.ON_SCROLL_PAGE_BEFOR=1]="ON_SCROLL_PAGE_BEFOR",e[e.ON_SCROLL_PAGE_END=2]="ON_SCROLL_PAGE_END",e}(I||{});e("PageViewManager",(u=M("PageViewManager"),d=x("boolean"),_=x({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"滚动临界值，默认单位百分比，当拖拽超出该数值时，松开会自动滚动下一页，小于时则还原"}),p=x({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"设置 PageView PageTurning 事件的发送时机"}),f=x({visible:function(){return this.enabled},tooltip:"快速滑动翻页临界值\n        当用户快速滑动时，会根据滑动开始和结束的距离与时间计算出一个速度值\n        该值与此临界值相比较，如果大于临界值，则进行自动翻页"}),b=x({visible:function(){return this.enabled},tooltip:"每个页面翻页时所需时间。单位：秒"}),u(((N=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_enabled",O,r(t)),i(t,"scrollThreshold",v,r(t)),i(t,"pageTurningEventTiming",L,r(t)),i(t,"autoPageTurningThreshold",S,r(t)),i(t,"pageTurningSpeed",P,r(t)),t._currentIndex=0,t}n(t,e);var o=t.prototype;return o.onInit=function(){this._register()},o._register=function(){this.adapter&&this.enabled&&(this.adapter.scrollManager.on(c.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.on(c.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.on(c.Event.ON_SCROLL_TO_GROUPINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.on(g.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this,!0))},o._unregister=function(){this.adapter&&!this.enabled&&(this.adapter.scrollManager.off(c.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.off(c.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.off(c.Event.ON_SCROLL_TO_GROUPINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.off(g.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this))},o.scrollToPage=function(e,t,n){t<0||t>=this.length||t==this.currentIndex&&0!=this.adapter.scrollManager.calcOffset()||(this.adapter.scrollManager.scrollToGroupIndex(e,t,n),this.emit(I.ON_SCROLL_PAGE_BEFOR,t))},o.scrollToPrevPage=function(e,t){void 0===e&&(e=this.pageTurningSpeed),void 0===t&&(t=h.Header),0!=this._currentIndex?this.scrollToPage(e,this._currentIndex-1,t):this.adapter.viewManager.loopHeader&&this.scrollToPage(e,this.length-1,t)},o.scrollToNextPage=function(e,t){void 0===e&&(e=this.pageTurningSpeed),void 0===t&&(t=h.Footer),this._currentIndex>=this.length-1?this.adapter.viewManager.loopFooter&&this.scrollToPage(e,0,t):this.scrollToPage(e,this._currentIndex+1,t)},o._onUpdateViews=function(){this.emit(I.ON_PAGE_LENGTH_CHANGED),this._currentIndex=0,this.scrollToPage(this.pageTurningSpeed,this._currentIndex)},o._onScrollToIndex=function(e){this._currentIndex=e,this.emit(I.ON_SCROLL_PAGE_END,e)},o._handleReleaseLogic=function(e){if(this._enabled&&this.adapter.scrollManager.isMyEventAndMoved){var t=e.getUIStartLocation()[this.adapter.mainAxis]-e.getUILocation()[this.adapter.mainAxis],n=this._getNextIndex(t);this._isScrollable(t)||this._isQuicklyScrollable(this.adapter.scrollManager.velocity)?this.scrollToPage(this.pageTurningSpeed,n):this.scrollToPage(this.pageTurningSpeed,this._currentIndex)}},o._getNextIndex=function(e){var t=this._currentIndex;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?e>0?t++:e<0&&t--:(e<0&&t++,e>0&&t--):this.adapter.isArrangeAxisStart?e<0?t++:e>0&&t--:e>0?t++:e<0&&t--,t>=this.length&&this.adapter.viewManager.loopFooter?t=0:t<0&&this.adapter.viewManager.loopHeader&&(t=this.length-1),(t<0||t>=this.length)&&(t=this._currentIndex),t},o._isScrollable=function(e){return Math.abs(e)>=this.adapter.mainAxisSize*this.scrollThreshold},o._isQuicklyScrollable=function(e){return Math.abs(e)>this.autoPageTurningThreshold},a(t,[{key:"enabled",get:function(){return this._enabled},set:function(e){e!=this._enabled&&(this._enabled=e,this._enabled?this._register():this._unregister())}},{key:"currentIndex",get:function(){return this._currentIndex}},{key:"length",get:function(){return this.adapter.viewManager.groupLength}}]),t}(l)).Event=I,O=t((T=N).prototype,"_enabled",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(T.prototype,"enabled",[d],Object.getOwnPropertyDescriptor(T.prototype,"enabled"),T.prototype),v=t(T.prototype,"scrollThreshold",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),L=t(T.prototype,"pageTurningEventTiming",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),S=t(T.prototype,"autoPageTurningThreshold",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),P=t(T.prototype,"pageTurningSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),E=T))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/ReleaseManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./ScrollManager.ts"],(function(t){var e,i,a,s,n,r,o,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.createClass,a=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator},function(t){l=t.Manager},function(t){h=t.ReleaseState},function(t){p=t.ScrollManager}],execute:function(){var _,u,c,d,f,g,L,b,v,S,E,m,R,w;r._RF.push({},"584779mBRhND6eHOQ3xrp/1","ReleaseManager",void 0);var y=o.ccclass,M=o.property,O=function(t){return t[t.ON_PULL_UP=0]="ON_PULL_UP",t[t.ON_PULL_DOWN=1]="ON_PULL_DOWN",t[t.ON_PULL_LEFT=2]="ON_PULL_LEFT",t[t.ON_PULL_RIGHT=3]="ON_PULL_RIGHT",t}(O||{}),U=(t("ReleaseManager",(_=y("ReleaseManager"),u=M("boolean"),c=M({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"根据此阈值来切换state状态"}),d=M({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"根据此阈值来切换state状态"}),f=M({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"根据此阈值来切换state状态"}),g=M({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"根据此阈值来切换state状态"}),_(((w=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,s(e,"_enabled",v,n(e)),s(e,"left",S,n(e)),s(e,"right",E,n(e)),s(e,"top",m,n(e)),s(e,"bottom",R,n(e)),e._pullUp=void 0,e._pullDown=void 0,e._pullLeft=void 0,e._pullRight=void 0,e}a(e,t);var r=e.prototype;return r.onInit=function(){this.enabled&&(this._pullUp=new U(this,O.ON_PULL_UP,this.bottom),this._pullDown=new U(this,O.ON_PULL_DOWN,this.top),this._pullLeft=new U(this,O.ON_PULL_LEFT,this.right),this._pullRight=new U(this,O.ON_PULL_RIGHT,this.left),this.adapter.scrollManager.on(p.Event.ON_SCROLL_START,this.onScrollStart,this),this.adapter.scrollManager.on(p.Event.ON_SCROLL_END,this.onScrollEnd,this),this.adapter.scrollManager.on(p.Event.ON_SCROLL_CANCEL,this.onScrollEnd,this),this.checkLoop())},r.checkLoop=function(){this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?(this.left>0&&(this.adapter.viewManager.loopHeader=!1),this.right>0&&(this.adapter.viewManager.loopFooter=!1)):(this.left>0&&(this.adapter.viewManager.loopFooter=!1),this.right>0&&(this.adapter.viewManager.loopHeader=!1)):this.adapter.isArrangeAxisStart?(this.top>0&&(this.adapter.viewManager.loopHeader=!1),this.bottom>0&&(this.adapter.viewManager.loopFooter=!1)):(this.top>0&&(this.adapter.viewManager.loopFooter=!1),this.bottom>0&&(this.adapter.viewManager.loopHeader=!1))},r.onScrollStart=function(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(h.IDLE),this.right>0&&this._pullLeft._setState(h.IDLE)):(this.top>0&&this._pullDown._setState(h.IDLE),this.bottom>0&&this._pullUp._setState(h.IDLE))},r.onScrollEnd=function(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(h.RELEASE),this.right>0&&this._pullLeft._setState(h.RELEASE)):(this.top>0&&this._pullDown._setState(h.RELEASE),this.bottom>0&&this._pullUp._setState(h.RELEASE))},r.internal_lateUpdate=function(t){if(this.enabled){var e=this.adapter.scrollManager.boundaryOffset;this.adapter.scrollManager.dragging||(e=0),this.adapter.isHorizontal?(this.left>0&&this._pullRight._set(Math.max(-e,0),e<0),this.right>0&&this._pullLeft._set(Math.max(e,0),e>0)):(this.top>0&&this._pullDown._set(Math.max(e,0),e>0),this.bottom>0&&this._pullUp._set(Math.max(-e,0),e<0))}},i(e,[{key:"enabled",get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t)}},{key:"max",get:function(){return this.enabled?this.adapter.isHorizontal?this._pullLeft?this._pullLeft.expand:0:this._pullDown?this._pullDown.expand:0:0}},{key:"min",get:function(){return this.enabled?this.adapter.isHorizontal?this._pullRight?this._pullRight.expand:0:this._pullUp?this._pullUp.expand:0:0}}]),e}(l)).Event=O,v=e((b=w).prototype,"_enabled",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"enabled",[u],Object.getOwnPropertyDescriptor(b.prototype,"enabled"),b.prototype),S=e(b.prototype,"left",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=e(b.prototype,"right",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=e(b.prototype,"top",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=e(b.prototype,"bottom",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=b))||L)),t("ReleaseEvent",function(){function t(t,e,i){this._expand=0,this._progress=0,this._offset=0,this._state=void 0,this._defaultPercentage=void 0,this._manager=void 0,this._event=void 0,this._stop=void 0,this._defaultPercentage=i,this._manager=t,this._event=e}var e=t.prototype;return e._set=function(t,e){e&&(this._stop=!1),this._stop||(this._offset=t,this._progress=t/(this._defaultPercentage*this._manager.adapter.mainAxisSize),this._stop=this._offset<=.1,this._setState(h.PULL),this._manager.emit(this._event,this))},e._setState=function(t){this._state!=h.WAIT&&(t==h.PULL&&this._state==h.RELEASE||(this._state=t))},e.wait=function(t){void 0===t&&(t=this._defaultPercentage*this._manager.adapter.mainAxisSize),this._expand=t,this._state=h.WAIT},e.release=function(){this._expand=0,this._state=h.IDLE,this.offset<=.1&&(this._offset=0,this._progress=0,this._manager.emit(this._event,this))},i(t,[{key:"expand",get:function(){return this._expand}},{key:"progress",get:function(){return this._progress}},{key:"offset",get:function(){return this._offset}},{key:"state",get:function(){return this._state}}]),t}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.ts","./CenterManager.ts","./LayoutManager.ts","./ModelManager.ts","./PageViewManager.ts","./ReleaseManager.ts","./ScrollManager.ts","./ViewManager.ts","./Holder.ts","./View.ts"],(function(e){var t,n,i,r,a,o,s,l,c,g,u,h,M,p,f,w,d,y,A,v,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.Component},function(e){c=e.Orientation,g=e.ArrangeAxis,u=e.ViewEvent,h=e.HolderEvent},function(e){M=e.CenterManager},function(e){p=e.LayoutManager},function(e){f=e.ModelManager},function(e){w=e.PageViewManager},function(e){d=e.ReleaseManager},function(e){y=e.ScrollManager},function(e){A=e.ViewManager},function(e){v=e.Holder},function(e){m=e.View}],execute:function(){var b,S,_,V,x,z,k,H,D,E,I,L,P,C,B;o._RF.push({},"d5d1crBDMFIA4umJNt7GKmz","ScrollAdapter",void 0);var R=s.ccclass,U=s.property,F=(e("ScrollAdapter",(b=R("ScrollAdapter"),S=U(y),_=U(A),V=U(p),x=U(w),z=U(d),k=U(M),b((E=t((D=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"scrollManager",E,r(t)),i(t,"viewManager",I,r(t)),i(t,"layoutManager",L,r(t)),i(t,"pageViewManager",P,r(t)),i(t,"releaseManager",C,r(t)),i(t,"centerManager",B,r(t)),t.modelManager=new f,t}n(t,e);var o=t.prototype;return o.initElement=function(e,t){},o.getView=function(){return new F(this)},o.getHolder=function(e,t){return new T(e,t,this)},o.getParentAdapter=function(e){if(null!=e){var t=e.getComponent("ScrollAdapter");return t||this.getParentAdapter(e.parent)}},o.__preload=function(){this.scrollManager.internal_create(this),this.viewManager.internal_create(this),this.modelManager.internal_create(this),this.releaseManager.internal_create(this),this.layoutManager.internal_create(this),this.pageViewManager.internal_create(this),this.centerManager.internal_create(this),this.viewManager.internal_init(),this.releaseManager.internal_init(),this.layoutManager.internal_init(),this.pageViewManager.internal_init(),this.centerManager.internal_init(),this.scrollManager.internal_init(),this.modelManager.internal_init()},o.lateUpdate=function(e){this.scrollManager.internal_lateUpdate(e),this.viewManager.internal_lateUpdate(e),this.layoutManager.internal_lateUpdate(e),this.releaseManager.internal_lateUpdate(e)},a(t,[{key:"isVertical",get:function(){return this.scrollManager.orientation==c.Vertical}},{key:"isHorizontal",get:function(){return this.scrollManager.orientation==c.Horizontal}},{key:"isArrangeAxisStart",get:function(){return this.viewManager.arrangeAxis==g.Start}},{key:"mainAxis",get:function(){return this.isVertical?"y":"x"}},{key:"crossAxis",get:function(){return this.isVertical?"x":"y"}},{key:"mainAxisAnchorPoint",get:function(){var e=this.isVertical?1:0;return this.isArrangeAxisStart?e:1-e}},{key:"mainAxisSize",get:function(){return this.scrollManager.view.contentSize[this.mainAxis]}},{key:"crossAxisSize",get:function(){return this.scrollManager.view.contentSize[this.crossAxis]}},{key:"multiplier",get:function(){var e=this.isVertical?-1:1;return this.isArrangeAxisStart?-e:e}},{key:"paddingHeader",get:function(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.left:this.viewManager.right:this.isArrangeAxisStart?this.viewManager.top:this.viewManager.bottom}},{key:"paddingFooter",get:function(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.right:this.viewManager.left:this.isArrangeAxisStart?this.viewManager.bottom:this.viewManager.top}},{key:"mainAxisPadding",get:function(){return this.isHorizontal?this.viewManager.left+this.viewManager.right:this.viewManager.top+this.viewManager.bottom}}]),t}(l)).prototype,"scrollManager",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y}}),I=t(D.prototype,"viewManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new A}}),L=t(D.prototype,"layoutManager",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),P=t(D.prototype,"pageViewManager",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new w}}),C=t(D.prototype,"releaseManager",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d}}),B=t(D.prototype,"centerManager",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new M}}),H=D))||H)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.onVisible=function(){this.adapter.node.emit(u.VISIBLE,this)},i.onDisable=function(){this.adapter.node.emit(u.DISABLE,this)},t}(m)),T=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.onCreated=function(){this.node.emit(h.CREATED,this)},i.onVisible=function(){this.node.emit(h.VISIBLE,this)},i.onDisable=function(){this.node.emit(h.DISABLE,this)},t}(v);o._RF.pop()}}}));

System.register("chunks:///_virtual/Scrollbar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScrollAdapter.ts","./enum.ts","./helper.ts","./ScrollManager.ts"],(function(t){var i,e,n,r,o,a,s,h,l,c,u,p,_,f,d,g,m,b,S,T,v,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,h=t.Color,l=t.Sprite,c=t.SpriteFrame,u=t.Node,p=t.v3,_=t.UITransform,f=t.Component,d=t.Vec2},function(t){g=t.ScrollAdapter},function(t){m=t.ScrollbarDirection,b=t.Transition,S=t.Orientation},function(t){T=t.Helper},function(t){v=t.ScrollManager,y=t.ADAPTER}],execute:function(){var E,w,H,z,C,M,O,A,L,x,R,U,G,D,I,N,k,P,V,F,B,j,K,W,q,J,Q,X,Y,Z,$,tt,it,et,nt,rt,ot,at,st,ht;a._RF.push({},"e7832mHcjNK2r9z66HM2mwU","Scrollbar",void 0);var lt=s.ccclass,ct=s.property,ut=new h;t("Scrollbar",(E=lt("Scrollbar"),w=ct(g),H=ct(l),z=ct({type:m,tooltip:"滚动方向"}),C=ct({tooltip:"开启后会允许用户滑动进度条"}),M=ct({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"可拖拽的最小限制，默认=0不限制,仅当你开启了循环,并且你的item会实时修改主轴尺寸时,那么你应该适当限制拖拽区域"}),O=ct({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"可拖拽的最大限制，默认=1不限制,仅当你开启了循环,并且你的item会实时修改主轴尺寸时,那么你应该适当限制拖拽区域"}),A=ct({type:b}),L=ct({type:b,visible:function(){return this.interactable}}),x=ct({type:l,visible:function(){return this.transition!=b.None&&this.interactable}}),R=ct({type:c,visible:function(){return this.transition==b.SpriteSwap&&this.interactable}}),U=ct({type:c,visible:function(){return this.transition==b.SpriteSwap&&this.interactable}}),G=ct({visible:function(){return this.transition==b.ColorTint&&this.interactable}}),D=ct({visible:function(){return this.transition==b.ColorTint&&this.interactable}}),I=ct({visible:function(){return this.transition==b.Scale&&this.interactable}}),N=ct({visible:function(){return this.transition==b.Scale&&this.interactable}}),k=ct({visible:function(){return this.transition==b.Scale||this.transition==b.ColorTint&&this.interactable}}),P=ct({range:[0,11],slide:!0,step:1,tooltip:"用于进度的步数。值为 < 2 将禁用"}),V=ct({tooltip:"开启后会在滚动条无更新时自动隐藏"}),F=ct({visible:function(){return this.enableAutoHide},tooltip:"自动隐藏滚动条的时间"}),E((K=i((j=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"adapter",K,r(i)),n(i,"handle",W,r(i)),n(i,"direction",q,r(i)),n(i,"interactable",J,r(i)),n(i,"dragMinLimit",Q,r(i)),n(i,"dragMaxLimit",X,r(i)),n(i,"_transition",Y,r(i)),n(i,"targetGraphic",Z,r(i)),n(i,"hoverSprite",$,r(i)),n(i,"pressedSprite",tt,r(i)),n(i,"hoverColor",it,r(i)),n(i,"pressedColor",et,r(i)),n(i,"hoverScale",nt,r(i)),n(i,"pressedScale",rt,r(i)),n(i,"transitionDuration",ot,r(i)),n(i,"numberOfSteps",at,r(i)),n(i,"enableAutoHide",st,r(i)),n(i,"autoHideTime",ht,r(i)),i._transitionInfo=void 0,i._targetEnter=void 0,i._targetStart=void 0,i._isDirty=!1,i._transform=void 0,i._handleTransform=void 0,i._size=0,i._value=-1,i._pointerEvent=void 0,i._offset=void 0,i._isHide=void 0,i._opacity=255,i._autoHideRemainingTime=void 0,i._rawTargetScale=void 0,i._rawTargetFrame=void 0,i._rawTargetColor=void 0,i}e(i,t);var a=i.prototype;return a.__preload=function(){this.transform.setAnchorPoint(.5,.5),this.handleTransform.setAnchorPoint(.5,.5),this.handle.node.setPosition(0,0),this.adapter&&(this.adapter.scrollManager.on(v.Event.ON_UPDATE_PERCENTAGE,this._onUpdateScrollbar,this),this._updateVisuals()),this.targetGraphic&&(this._rawTargetScale=this.targetGraphic.node.getScale().clone(),this._rawTargetFrame=this.targetGraphic.spriteFrame,this._rawTargetColor=this.targetGraphic.color.clone()),this._openAutoHide(!0)},a.onEnable=function(){var t=this.node.getComponent(l);t&&(this._opacity=t.color.a),this.adapter&&(this.node[y]=!0,this.node.on(u.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(u.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.on(u.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.on(u.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.on(u.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.on(u.EventType.MOUSE_LEAVE,this._targetMouseLeave,this)))},a.onDisable=function(){this.node.off(u.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(u.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.off(u.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.off(u.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.off(u.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.off(u.EventType.MOUSE_LEAVE,this._targetMouseLeave,this))},a._targetMouseEnter=function(){switch(this._targetEnter=!0,this._openAutoHide(!1),this.transition){case b.Scale:this._transitionScale(this._targetStart?this.pressedScale:this.hoverScale);break;case b.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this.hoverSprite);break;case b.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this.hoverColor)}},a._targetMouseLeave=function(){switch(this._targetEnter=!1,this._openAutoHide(!0),this.transition){case b.Scale:this._transitionScale(this._targetStart?this.pressedScale:this._rawTargetScale);break;case b.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this._rawTargetFrame);break;case b.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this._rawTargetColor)}},a._transitionScale=function(t){t&&this.targetGraphic&&(this._transitionInfo={time:0,from:this.targetGraphic.node.getScale().clone(),to:t})},a._transitionColor=function(t){t&&this.targetGraphic&&(this._transitionInfo={time:0,from:this.targetGraphic.color,to:t})},a._transitionSprite=function(t){t&&this.targetGraphic&&(this.targetGraphic.spriteFrame=t)},a._mouseEnter=function(t){this.interactable&&this._openAutoHide(!1)},a._mouseLeave=function(t){this.interactable&&this._openAutoHide(!0)},a._openAutoHide=function(t){this.enableAutoHide&&(this._autoHideRemainingTime=this.autoHideTime,this._isHide=t,t||this._setOpacity(this._opacity))},a._onTouchStart=function(t){if(this.interactable&&1!=this.size&&0!=this.size){this._openAutoHide(!1),this._pointerEvent=null,this._targetStart=!0;var i=t.getUIStartLocation();if(this._offset=this.handleTransform.convertToNodeSpaceAR(p(i.x,i.y)),Math.abs(this._offset[this.xy])>.5*this.handleTransform[this.wh]){this._offset=null,this._pointerEvent=t;var e=this._calcPercentage(t);this._setPercentage(e)}this.transition==b.Scale?this._transitionScale(this.pressedScale):this.transition==b.SpriteSwap?this._transitionSprite(this.pressedSprite):this.transition==b.ColorTint&&this._transitionColor(this.pressedColor)}},a._onTouchMove=function(t){if(this.interactable&&1!=this.size&&0!=this.size&&this._offset){var i=this._calcPercentage(t,this._offset[this.xy]);this._setPercentage(i)}},a._onTouchEnd=function(t){if(this.interactable&&1!=this.size&&0!=this.size){switch(this._offset=null,this._pointerEvent=null,this._targetStart=!1,this.transition){case b.Scale:this._transitionScale(this._targetEnter?this.hoverScale:this._rawTargetScale);break;case b.SpriteSwap:this._transitionSprite(this._targetEnter?this.hoverSprite:this._rawTargetFrame);break;case b.ColorTint:this._transitionColor(this._targetEnter?this.hoverColor:this._rawTargetColor)}this.adapter.centerManager.scrollToCenter()}},a._setPercentage=function(t){this.adapter.scrollManager.stopScroll(),this.adapter.scrollManager.setPercentage(t)},a._calcPercentage=function(t,i){void 0===i&&(i=0);var e=(this.axis==S.Horizontal?this.transform.width:this.transform.height)*(1-this.size),n=t.getUILocation(),r=this.transform.convertToNodeSpaceAR(p(n.x,n.y))[this.xy]-i-.5*-this.transform[this.wh];r-=.5*this.handleTransform[this.wh];var o=this.adapter.scrollManager.percentage;switch(this.direction){case m.Right_To_Left:case m.Top_To_Bottom:o=T.clamp(1-r/e,this.dragMinLimit,this.dragMaxLimit);break;case m.Left_To_Right:case m.Bottom_To_Top:o=T.clamp(r/e,this.dragMinLimit,this.dragMaxLimit)}return this.getSteps(o)},a._onUpdateScrollbar=function(t,i){var e=0,n=0;this.adapter.viewManager.virtualSize>0&&(e=this.adapter.viewManager.virtualSize>=this.adapter.mainAxisSize?T.clamp01((this.adapter.mainAxisSize-Math.abs(i))/this.adapter.viewManager.virtualSize):1),n=t,this.size=e,this.numberOfSteps>1&&(n=Math.round(n*(this.numberOfSteps-1))/(this.numberOfSteps-1),n=T.clamp01(n)),this.value=n,this._autoHideRemainingTime=this.autoHideTime,this._setOpacity(this._opacity)},a._updateVisuals=function(){if(this.handleTransform&&this.adapter){var t={x:0,y:0},i={x:0,y:0},e=this.adapter.mainAxis,n=T.clamp01(this.value)*(1-this.size);t[e]=n,i[e]=n+this.size;var r=this.transform.contentSize[this.wh]-i[e]*this.transform.contentSize[this.wh],o=t[e]*this.transform.contentSize[this.wh],a=this.handle.node.getPosition();switch(this.direction){case m.Bottom_To_Top:case m.Left_To_Right:a[this.xy]=.5*(o-r);break;case m.Top_To_Bottom:case m.Right_To_Left:a[this.xy]=.5*(r-o)}this.handleTransform[this.wh]=this.transform.contentSize[this.wh]-r-o,this.handle.node.setPosition(a)}},a.update=function(t){this._clearDirty(),this._autoHide(t),this._tranitionHandler(t)},a._clearDirty=function(){if(this._isDirty&&(this._isDirty=!1,this._updateVisuals(),this._pointerEvent)){var t=this._pointerEvent.getUILocation();this._offset=this.handleTransform.convertToNodeSpaceAR(p(t.x,t.y)),this._pointerEvent=null}},a._autoHide=function(t){if(this.enableAutoHide&&this._isHide&&!(this._autoHideRemainingTime<=0)&&(this._autoHideRemainingTime-=t,this._autoHideRemainingTime<=this.autoHideTime)){this._autoHideRemainingTime=Math.max(0,this._autoHideRemainingTime);var i=this._opacity*(this._autoHideRemainingTime/this.autoHideTime);this._setOpacity(i)}},a._tranitionHandler=function(t){var i=this.targetGraphic;if(this.transition!=b.None&&i&&this._transitionInfo){this._transitionInfo.time+=t;var e=1;if(this.transitionDuration>0&&(e=this._transitionInfo.time/this.transitionDuration),e>=1&&(e=1),this.transition==b.Scale){this._transitionInfo.current=i.node.getScale();var n=this._transitionInfo.from,r=this._transitionInfo.to;this._transitionInfo.current.x=T.lerp(n.x,r.x,e),this._transitionInfo.current.y=T.lerp(n.y,r.y,e),i.node.setScale(this._transitionInfo.current)}else if(this.transition==b.ColorTint){var o=this._transitionInfo.from,a=this._transitionInfo.to;h.lerp(ut,o,a,e),i.color=ut}1===e&&(this._transitionInfo=null)}},a._setOpacity=function(t){if(this.handle){var i=function(i){i&&(ut.set(i.color),ut.a=t,i.color=ut)};i(this.node.getComponent(l)),i(this.handle.getComponent(l))}},a.getSteps=function(t){return this.numberOfSteps>1&&(t=Math.round(t*(this.numberOfSteps-1))/(this.numberOfSteps-1),t=T.clamp(t,this.dragMinLimit,this.dragMaxLimit)),t},o(i,[{key:"transition",get:function(){return this._transition},set:function(t){t!=this._transition&&(this._transition=t,t!=b.None&&(this.targetGraphic||(this.targetGraphic=this.handle)))}},{key:"size",get:function(){return this._size},set:function(t){t!=this._size&&(this._size=T.clamp(t,.01,1),this._isDirty=!0)}},{key:"value",get:function(){return this._value},set:function(t){t!=this._value&&(this._value=this.getSteps(t),this._isDirty=!0)}},{key:"stepSize",get:function(){return this.numberOfSteps>1?1/(this.numberOfSteps-1):.1}},{key:"transform",get:function(){return this._transform||(this._transform=this.node.getComponent(_)),this._transform}},{key:"handleTransform",get:function(){return this.handle?(this._handleTransform||(this._handleTransform=this.handle.node.getComponent(_)),this._handleTransform):null}},{key:"xy",get:function(){return this.axis==S.Horizontal?"x":"y"}},{key:"wh",get:function(){return this.axis==S.Horizontal?"width":"height"}},{key:"axis",get:function(){return this.direction==m.Left_To_Right||this.direction==m.Right_To_Left?S.Horizontal:S.Vertical}}]),i}(f)).prototype,"adapter",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(j.prototype,"handle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(j.prototype,"direction",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.Top_To_Bottom}}),J=i(j.prototype,"interactable",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Q=i(j.prototype,"dragMinLimit",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=i(j.prototype,"dragMaxLimit",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Y=i(j.prototype,"_transition",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.None}}),i(j.prototype,"transition",[L],Object.getOwnPropertyDescriptor(j.prototype,"transition"),j.prototype),Z=i(j.prototype,"targetGraphic",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(j.prototype,"hoverSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(j.prototype,"pressedSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(j.prototype,"hoverColor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.WHITE.clone()}}),et=i(j.prototype,"pressedColor",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(211,211,211,255)}}),nt=i(j.prototype,"hoverScale",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(1,1)}}),rt=i(j.prototype,"pressedScale",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(1.2,1.2)}}),ot=i(j.prototype,"transitionDuration",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),at=i(j.prototype,"numberOfSteps",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),st=i(j.prototype,"enableAutoHide",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ht=i(j.prototype,"autoHideTime",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),B=j))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./debug.ts","./enum.ts","./helper.ts","./ViewManager.ts"],(function(t){var e,i,n,a,r,o,s,h,l,c,_,d,u,p,g,v,f,E,y,O,M,T,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,h=t.Vec3,l=t.UITransform,c=t.Node,_=t.Widget,d=t.EventTouch,u=t.macro,p=t.easing},function(t){g=t.Manager},null,function(t){v=t.Orientation,f=t.TouchMode,E=t.MovementType,y=t.NestedDirection,O=t.ScrollDirection,M=t.Layer},function(t){T=t.Helper},function(t){A=t.ViewManager}],execute:function(){var S,m,w,b,P,C,N,L,D,x,H,R,z,I,U,V,k,F,B,G,X,W,Z,j,q,Y,K,J,Q,$;o._RF.push({},"6000cNyEYlC4aj/Efw70/yK","ScrollManager",void 0);var tt=s.ccclass,et=s.property,it=new h,nt=t("ADAPTER","__ADAPTER__"),at=function(t){return t[t.ON_SCROLL=0]="ON_SCROLL",t[t.ON_UPDATE_PERCENTAGE=1]="ON_UPDATE_PERCENTAGE",t[t.ON_VIEW_SIZE_CHANGED=2]="ON_VIEW_SIZE_CHANGED",t[t.ON_ABOUT_TO_STOP=3]="ON_ABOUT_TO_STOP",t[t.ON_SCROLL_START=4]="ON_SCROLL_START",t[t.ON_SCROLL_END=5]="ON_SCROLL_END",t[t.ON_SCROLL_CANCEL=6]="ON_SCROLL_CANCEL",t[t.ON_CHANGED_ORIENTATION=7]="ON_CHANGED_ORIENTATION",t[t.ON_SCROLL_TO_GROUPINDEX_BEFOR=8]="ON_SCROLL_TO_GROUPINDEX_BEFOR",t[t.ON_SCROLL_TO_GROUPINDEX_AFTER=9]="ON_SCROLL_TO_GROUPINDEX_AFTER",t[t.ON_SCROLL_TO_MODELINDEX_BEFOR=10]="ON_SCROLL_TO_MODELINDEX_BEFOR",t[t.ON_SCROLL_TO_MODELINDEX_AFTER=11]="ON_SCROLL_TO_MODELINDEX_AFTER",t}(at||{});t("ScrollManager",(S=tt("ScrollManager"),m=et(l),w=et(l),b=et(l),P=et(l),C=et({type:v}),N=et({type:v}),L=et({type:f,tooltip:"Auto: 当内容撑满可视区域或开启ReleaseManager时允许拖动\n        AlwaysAllow: 任何情况下都可以拖动，即使没有任何元素\n        Disabled: 任何情况下都禁用拖动\n        "}),D=et({type:E}),x=et({range:[0,1],slide:!0,step:.001,visible:function(){return this.movementType==E.Elastic}}),H=et({range:[0,1],slide:!0,step:.001,visible:function(){return this.inertia}}),R=et({tooltip:"当滚动速度小于这个值时，会发送ON_ABOUT_TO_STOP广播"}),z=et({tooltip:"取消子节点的Button点击事件"}),I=et({range:[0,.5],slide:!0,step:.001,visible:function(){return this.inertia},tooltip:"嵌套时，当子元素的ScrollView拖动方向和当前拖动方向相同时，使用当前阈值进行计算由谁来处理拖动\n        无特殊需求时，默认值即可"}),U=et({range:[.5,1],slide:!0,step:.001,visible:function(){return this.inertia},tooltip:"嵌套时，当子元素的ScrollView拖动方向和当前拖动方向相同时，使用当前阈值进行计算由谁来处理拖动\n        无特殊需求时，默认值即可"}),S((($=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"_view",F,a(e)),n(e,"_content",B,a(e)),n(e,"_orientation",G,a(e)),n(e,"touchMode",X,a(e)),n(e,"movementType",W,a(e)),n(e,"elasticity",Z,a(e)),n(e,"inertia",j,a(e)),n(e,"decelerationRate",q,a(e)),n(e,"aboutToStopVelocity",Y,a(e)),n(e,"cancelInnerEvents",K,a(e)),n(e,"nestedMinThreshold",J,a(e)),n(e,"nestedMaxThreshold",Q,a(e)),e.__debug_graphics=void 0,e._boundaryOffset=0,e._viewWidget=null,e._parentAdapter=void 0,e._layerLowest=void 0,e._layerMedium=void 0,e._layerHighest=void 0,e._percentage=0,e._velocity=0,e._dragging=!1,e._scrolling=!1,e._isCanceledEvent=!1,e._contentStartPosition=new h,e._prevContentPosition=new h,e._nestedDirection=y.Both,e._parentTouch=!1,e._stopCheckNested=!1,e._scrollHandlePercentage=null,e._scrollHandlePosition=null,e._isEmitAboutToStop=!1,e._isMyEventAndMoved=!1,e._scrollDirection=O.None,e._laseScrollDirection=O.None,e._touchEvent=null,e.test=!1,e}i(e,t);var o=e.prototype;return o.onInit=function(){var t=this;this._initView(),this._initContent(),this._parentAdapter=this.adapter.getParentAdapter(this.adapter.node.parent),this.view.node[nt]=!0,this.adapter.viewManager.on(A.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this),this.adapter.viewManager.on(A.Event.ON_CHANGED_VIRTUALSIZE,this._onChangedVirtualSize,this),this.adapter.viewManager.on(A.Event.ON_CHANGED_OVERFLOWHEADER,this._onChangedOverflowHeader,this),this.adapter.viewManager.on(A.Event.ON_RESET_ALL_STATE,this._onResetAllState,this),this.adapter.viewManager.on(A.Event.ON_CLEARVIEWS,this._onResetAllState,this),this.adapter.node.on(c.EventType.SIZE_CHANGED,this._onAdapterSizeChanged,this),this.view.node.on(c.EventType.SIZE_CHANGED,this._onViewSizeChanged,this),this._registerTouchEvent(),this.__createDebug(),this.view.scheduleOnce((function(){t._updatePercentage()}))},o._initView=function(){if(!this.view)throw Error("ScrollManager view 参数为空！");var t={x:.5,y:.5};t[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint,this.view.setAnchorPoint(t.x,t.y);var e=this.view.getComponent(_);e||((e=this.view.addComponent(_)).isAlignLeft=e.isAlignRight=e.isAlignTop=e.isAlignBottom=!0,e.left=e.right=e.top=e.bottom=0),e.updateAlignment(),this._viewWidget=e},o.__createDebug=function(){},o.__drawDebug=function(){if(this.__debug_graphics){this.__debug_graphics.clear();var t=this.adapter.mainAxis,e=this.adapter.crossAxis,i=this.adapter.multiplier,n={x:0,y:0},a={x:0,y:0};a[t]=this.adapter.viewManager.virtualSize,a[e]=this.adapter.crossAxisSize,n[t]=this.contentPosition-a[t]*this.content.anchorPoint[t]*i,n[t]+=this.adapter.viewManager.overflowHeader,n[e]-=a[e]*this.view.anchorPoint[e],this.__debug_graphics.fillRect(n.x,n.y,a.x,a.y),this.__debug_graphics.stroke()}},o._initContent=function(){if(!this.content)throw Error("ScrollManager content 参数为空！");this.content.setAnchorPoint(this.view.anchorPoint);var t={x:0,y:0};t[this.adapter.crossAxis]=this.view.contentSize[this.adapter.crossAxis],this.content.setContentSize(t.x,t.y),this._layerLowest||(this._layerLowest=new c("_layerLowest"),this._layerMedium=new c("_layerMedium"),this._layerHighest=new c("_layerHighest"),this.content.node.addChild(this._layerLowest),this.content.node.addChild(this._layerMedium),this.content.node.addChild(this._layerHighest)),this._updateContentPosition({x:0,y:0})},o._registerTouchEvent=function(){this.view.node.on(c.EventType.TOUCH_START,this._onTouchStart,this,!0),this.view.node.on(c.EventType.TOUCH_END,this._onTouchEnd,this,!0),this.view.node.on(c.EventType.TOUCH_CANCEL,this._onTouchCancel,this,!0),this.view.node.on(c.EventType.TOUCH_MOVE,this._onTouchMove,this,!0)},o._bubbleToParent=function(t){this._parentAdapter&&this._parentAdapter.scrollManager.view.node.dispatchEvent(t)},o._emitCancelEvent=function(t){if(!this._isCanceledEvent){var e=t.getUILocation();e.subtract(t.getUIStartLocation()),this.cancelInnerEvents&&e.length()>7&&t.target!==this.view.node&&(this._simulateEvent(t,c.EventType.MOUSE_LEAVE),this._simulateEvent(t,c.EventType.TOUCH_CANCEL),this._isCanceledEvent=!0)}},o._simulateEvent=function(t,e,i){if(void 0===i&&(i=!0),t){var n=new d(t.getTouches(),t.bubbles),a=t.target;n.type=e,n.touch=t.touch,n.simulate=i,a.dispatchEvent(n)}},o._onUpdateViews=function(){this._velocity=0,this._updatePercentage()},o._onChangedVirtualSize=function(){this._updatePercentage(),null!=this._scrollHandlePosition&&null!=this._scrollHandlePosition.change&&this._scrollHandlePosition.change()},o._onChangedOverflowHeader=function(t){this.__drawDebug()},o._onResetAllState=function(){this._velocity=0,this._scrolling=!1,this._dragging=!1,this._isMyEventAndMoved=!1,this._scrollDirection=O.None,this._percentage=0,this._isEmitAboutToStop=!1,this._boundaryOffset=0,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._scrollDirection=O.None,this._touchEvent=null,this.stopScroll(),this._initView(),this._initContent()},o._onAdapterSizeChanged=function(){this._viewWidget.updateAlignment()},o._onViewSizeChanged=function(){this.emit(at.ON_VIEW_SIZE_CHANGED)},o._isMyEvent=function(t,e){return t.eventPhase==d.AT_TARGET||!e||e[0]==this.view.node&&!t.target[nt]},o._onTouchStart=function(t){this._velocity=0,this._dragging=!0,this._isMyEventAndMoved=!1,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._isEmitAboutToStop=!1,this._scrollDirection=O.None,this._contentStartPosition.set(this.content.node.position),this._touchEvent=t,this.stopScroll(),this._calcNestedDirection(),this.emit(at.ON_SCROLL_START)},o._onTouchEnd=function(t,e){this._dragging=!1,this._touchEvent=null,this.emit(at.ON_SCROLL_END,t)},o._onTouchCancel=function(t,e){t.simulate||(this._dragging=!1,this._touchEvent=null,this.emit(at.ON_SCROLL_CANCEL,t))},o._onTouchMove=function(t,e){if(this._isMyEvent(t,e)){if(this._emitCancelEvent(t),this._parentTouch||!this.canTouch)return this._bubbleToParent(t);if(this._touchEvent){var i=this.adapter.mainAxis,n=t.getUILocation(),a=t.getUIStartLocation(),r=n.subtract(a);if(!r.equals2f(0,0)){var o={x:0,y:0};o[i]=this._contentStartPosition[i]+r[i];var s=o[i]-this.contentPosition,h=this.calcOffset(s),l=this.adapter.isHorizontal?-1:1;o[i]+=l*h,this.movementType==E.Elastic&&0!=h&&(o[i]-=l*this._rubberDelta(h,this.adapter.mainAxisSize)),this._checkNested(t,o,this._parentAdapter),this._parentTouch?this._bubbleToParent(t):(this._isMyEventAndMoved=!0,this._updateContentPosition(o))}}}},o._calcNestedDirection=function(){this._parentAdapter&&(this.percentage<=this.nestedMinThreshold&&!this.adapter.viewManager.loopHeader?this._nestedDirection=1==this.adapter.multiplier?y.Footer:y.Header:this.percentage>=this.nestedMaxThreshold&&!this.adapter.viewManager.loopFooter?this._nestedDirection=1==this.adapter.multiplier?y.Header:y.Footer:this._nestedDirection=y.Both)},o._checkNested=function(t,e,i){if(i&&!this._stopCheckNested){if(this.orientation==i.scrollManager.orientation){var n=e[this.adapter.mainAxis]-this._contentStartPosition[this.adapter.mainAxis];if(Math.abs(n)<=.1)return;this._nestedDirection==y.Footer?n<0&&(this._parentTouch=!0):this._nestedDirection==y.Header&&n>0&&(this._parentTouch=!0)}else{var a=0,r=0;if(t instanceof d){var o=t.getUIStartLocation(),s=t.getUILocation();a=Math.abs(o.x-s.x),r=Math.abs(o.y-s.y)}else a=Math.abs(t.getScrollX()),r=Math.abs(t.getScrollY());if(a==r)return;a>r?this.adapter.isVertical&&(this._parentTouch=!0):r>a&&this.adapter.isHorizontal&&(this._parentTouch=!0)}if(!this._parentTouch&&i.scrollManager.parentAdapter)return this._checkNested(t,e,i.scrollManager.parentAdapter);this._stopCheckNested=!0}},o._updateContentPosition=function(t,e){void 0===e&&(e=!0),this._updateScrollDirection(t),this.content.node.setPosition(t.x,t.y),this.emit(at.ON_SCROLL,this._scrollDirection),e?this._updatePercentage():this.__drawDebug()},o._updatePrevContentPosition=function(){this._prevContentPosition.set(this.content.node.position)},o._calcPercentage=function(t,e){var i=this.internal_getHiddenSize(),n=this.adapter.viewManager.loopHeader,a=this.adapter.viewManager.loopFooter,r=this.adapter.multiplier,o=this.adapter.viewManager.overflowHeader,s=t*r;if(this.adapter.isHorizontal?s-=e*r:s+=e*r,a)s+=(o+(i+=this.adapter.viewManager.spacing)*r)*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s+=1,s%=i;else if(n){s+=this.adapter.mainAxisSize-1,this.adapter.centerManager.enabled?s-=this.adapter.centerManager.getContainerOffset():s-=this.adapter.paddingFooter,s+=(o+i*r)*r,t*-r>o*r&&(s+=this.adapter.viewManager.spacing),s%=i}else s+=o*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s>i&&(s=i);return s/i},o._updatePercentage=function(){var t=this.calcOffset();this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this._percentage=0:this._percentage=this._calcPercentage(this.contentPosition,t),this.emit(at.ON_UPDATE_PERCENTAGE,this._percentage,t),this.__drawDebug()},o.internal_disableTouchTarget=function(t){if(this._touchEvent&&this._touchEvent.target==t){var e=this._touchEvent;this._simulateEvent(e,c.EventType.TOUCH_CANCEL,!1),this._simulateEvent(e,c.EventType.MOUSE_LEAVE,!1),this._touchEvent=null}},o.internal_getHiddenSize=function(){var t=this.adapter.viewManager.loopHeader,e=this.adapter.viewManager.loopFooter,i=this.adapter.viewManager.virtualSize;return t||e||this.adapter.centerManager.enabled||(i-=this.adapter.mainAxisSize,i+=this.adapter.mainAxisPadding),i},o._getContentMinBoundaryOffset=function(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMax+t:e+this._defaultMin+t:this.adapter.viewManager.min+t},o._getContentMaxBoundaryOffset=function(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMin+t:e+this._defaultMax+t:this.adapter.viewManager.max+t},o._getMaxBoundaryOffset=function(t){var e=this._viewMax;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?t:e+t:this.adapter.isArrangeAxisStart?-t:e-t},o._getMinBoundaryOffset=function(t){var e=this._viewMin;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?e+t:t:this.adapter.isArrangeAxisStart?e-t:-t},o._rubberDelta=function(t,e){return(1-1/(.55*Math.abs(t)/e+1))*e*Math.sign(t)},o._calcElastic=function(t,e,i){var n=this.adapter.mainAxis,a=this.elasticity;this._scrolling&&(a*=3);var r=this.adapter.isHorizontal?-1:1,o=T.smoothDamp(this.contentPosition,this.contentPosition+r*e,this._velocity,a,T.Infinity,t),s=o.velocity,h=o.position;Math.abs(s)<1&&(s=0),this._velocity=s,i[n]=h},o._calcInertia=function(t,e){this._velocity*=Math.pow(this.decelerationRate,t),Math.abs(this._velocity)<1&&(this._velocity=0),e[this.adapter.mainAxis]+=this._velocity*t},o._calcClamped=function(t){var e=this.adapter.mainAxis,i=t[e]-this.contentPosition,n=this.calcOffset(i);this.adapter.isHorizontal?t[e]-=n:t[e]+=n},o._updateScrollDirection=function(t){var e=t[this.adapter.mainAxis]-this.contentPosition;0!=e?(this.adapter.isHorizontal?this._scrollDirection=e>0?O.Right:O.Left:this._scrollDirection=e>0?O.Up:O.Down,this._laseScrollDirection=this._scrollDirection):this._scrollDirection=O.None},o.internal_setContentPosition=function(t,e){void 0===e&&(e=!0);var i={x:0,y:0};i[this.adapter.mainAxis]=t,this._updateContentPosition(i,e)},o.internal_lateUpdate=function(t){this.test||(this._autoScrolling(t),this._scrollHandler(t,this._scrollHandlePosition,this._scrollPositionHandler.bind(this)),this._scrollHandler(t,this._scrollHandlePercentage,this._scrollPercentageHandler.bind(this)))},o._autoScrolling=function(t){var e=this.calcOffset();if(this._boundaryOffset=e,this._dragging||0==e&&0==this._velocity||(this.content.node.getPosition(it),this.movementType==E.Elastic&&0!=e?this._calcElastic(t,e,it):this.inertia?this._calcInertia(t,it):this._velocity=0,this.movementType==E.Clamped&&this._calcClamped(it),this._updateContentPosition(it)),this._dragging&&this.inertia){var i=(this.contentPosition-this._prevContentPosition[this.adapter.mainAxis])/t;this._velocity=T.lerp(this._velocity,i,10*t)}this._prevContentPosition.equals(this.content.node.position)||this._updatePrevContentPosition(),!this._isEmitAboutToStop&&!this._dragging&&Math.abs(this._velocity)<=this.aboutToStopVelocity&&(this._scrollHandlePercentage||this._scrollHandlePosition||(this.emit(at.ON_ABOUT_TO_STOP,this._velocity),this._isEmitAboutToStop=!0)),this._scrolling=!1},o._scrollHandler=function(t,e,i){if(null!=e){e.deltaTime+=t;var n=e.deltaTime/(e.duration>u.FLT_EPSILON?e.duration:u.FLT_EPSILON);n=T.clamp01(n);var a=p.quintOut(n);e.current=T.progress(e.from,e.to,e.current,a),i(e,n)}},o._scrollPercentageHandler=function(t,e){var i=this.percentage;if(this.setPercentage(t.current),1==e||i==this.percentage){var n=!0;this._scrollHandlePercentage.stop&&(n=this._scrollHandlePercentage.stop()),n&&(this._scrollHandlePercentage=null)}},o._scrollPositionHandler=function(t,e){var i={x:0,y:0};i[this.adapter.mainAxis]=t.current,this._setAutoScroll(i),(1==e||Math.abs(this.contentPosition-t.to)<=1e-4)&&(this._scrollHandlePosition.stop&&this._scrollHandlePosition.stop(),this._scrollHandlePosition=null)},o._setAutoScroll=function(t){var e=this,i=function(t){e._updateContentPosition(t),e._updatePrevContentPosition(),e._velocity=0};i(t);var n=this.calcOffset();if(0!=n){var a=this.adapter.isHorizontal?-1:1;return t[this.adapter.mainAxis]+=n*a,i(t),!1}return!0},o._scrollToPosition=function(t,e,i){var n=this;if(!this.canAutoScroll)return!1;var a=e();return!(null==a||Math.abs(this.contentPosition-a)<u.FLT_EPSILON)&&(this._scrollHandlePercentage=null,this._scrollHandlePosition={current:0,from:this.contentPosition,to:a,deltaTime:0,duration:Math.max(0,t),change:function(){a=e(),n._scrollHandlePosition.to=a},stop:function(){i()}},!0)},o.getLayerNode=function(t){switch(t){case M.Medium:return this._layerMedium;case M.Highest:return this._layerHighest;default:return this._layerLowest}},o.scrollToModelIndex=function(t,e,i){var n=this,a=this.adapter.viewManager.getGroupIndexByModelIndex(e);if(-1!=a){var r=!1;this._scrollToPosition(t,(function(){var t=n.adapter.centerManager.getPositionByGroupIndex(a,i,r);return r=!0,t}),(function(){n.emit(at.ON_SCROLL_TO_MODELINDEX_AFTER,e)}))&&this.emit(at.ON_SCROLL_TO_MODELINDEX_BEFOR,e)}},o.scrollToGroupIndex=function(t,e,i){var n=this,a=!1;this._scrollToPosition(t,(function(){var t=n.adapter.centerManager.getPositionByGroupIndex(e,i,a);return a=!0,t}),(function(){n.emit(at.ON_SCROLL_TO_GROUPINDEX_AFTER,e)}))&&this.emit(at.ON_SCROLL_TO_GROUPINDEX_BEFOR,e)},o.scrollToHeader=function(t){this.scrollToGroupIndex(t,0)},o.scrollToFooter=function(t){this.scrollToGroupIndex(t,this.adapter.viewManager.groupLength-1)},o.scrollToPercentage=function(t,e){if(!this.canAutoScroll)return!1;Math.abs(this._percentage-e)<.001||(e=T.clamp01(e),t=Math.max(0,t),this._scrollHandlePercentage=null,this._scrollHandlePercentage={deltaTime:0,duration:t,current:0,from:this._percentage,to:e})},o.stopVelocity=function(){this._velocity=0},o.stopScroll=function(){this._scrollHandlePosition=null,this._scrollHandlePercentage=null,this.stopVelocity()},o.setPercentage=function(t){for(var e=this.internal_getHiddenSize(),i={x:0,y:0},n=0,a=null;n<100;){n++;var r=this._percentage-t;if(null!=a&&this._percentage===a)break;if(Math.abs(r)<u.FLT_EPSILON)break;a=this._percentage;var o=this.contentPosition-r*this.adapter.multiplier*e;if(i[this.adapter.mainAxis]=o,!this._setAutoScroll(i))break}100==n&&console.warn("循环次数已达最大值，尽量不要在滚动过程中频繁修改尺寸")},o.calcOffset=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.contentPosition);var i=0;if(this.movementType==E.Unrestricted)return i;var n=this._getContentMaxBoundaryOffset(t,e),a=this._getContentMinBoundaryOffset(t,e),r=this._getMaxBoundaryOffset(n),o=this._getMinBoundaryOffset(a);!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize&&(this.adapter.isVertical?(r-=this.adapter.viewManager.top,o+=this.adapter.viewManager.bottom):(r-=this.adapter.viewManager.left,o+=this.adapter.viewManager.right));var s=0,h=0;if(this.adapter.centerManager.enabled&&this.adapter.viewManager.groupLength>0)h=this.adapter.centerManager.max,s=this.adapter.centerManager.min;else{var l=this.adapter.viewManager.getMagneticOffset();r-=l,o-=l}return this.adapter.releaseManager.enabled&&(h=Math.max(h,this.adapter.releaseManager.max),s=Math.max(s,this.adapter.releaseManager.min)),r-=h,(o+=s)<-.001?i=o:r>.001&&(i=r),i},r(e,[{key:"view",get:function(){return this._view},set:function(t){this._view=t}},{key:"content",get:function(){return this._content},set:function(t){this._content=t}},{key:"orientation",get:function(){return this._orientation},set:function(t){t!=this._orientation&&(this._orientation=t,this.emit(at.ON_CHANGED_ORIENTATION))}},{key:"_viewMin",get:function(){return-this.adapter.mainAxisSize}},{key:"_viewMax",get:function(){return this.adapter.mainAxisSize}},{key:"_defaultMin",get:function(){return 1==this.adapter.multiplier?-this.adapter.mainAxisSize:0}},{key:"_defaultMax",get:function(){return 1==this.adapter.multiplier?0:this.adapter.mainAxisSize}},{key:"isMyEventAndMoved",get:function(){return this._isMyEventAndMoved}},{key:"velocity",get:function(){return this._velocity}},{key:"scrollDirection",get:function(){return this._scrollDirection}},{key:"laseScrollDirection",get:function(){return this._laseScrollDirection}},{key:"percentage",get:function(){return this._percentage}},{key:"dragging",get:function(){return this._dragging}},{key:"boundaryOffset",get:function(){return this._boundaryOffset}},{key:"parentAdapter",get:function(){return this._parentAdapter}},{key:"canAutoScroll",get:function(){return!this.dragging&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize}},{key:"canTouch",get:function(){return this.touchMode==f.AlwaysAllow||this.touchMode!=f.Disabled&&(!!this.adapter.centerManager.enabled||(!!this.adapter.releaseManager.enabled||this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize))}},{key:"contentPosition",get:function(){return this.content.node.position[this.adapter.mainAxis]}}]),e}(g)).Event=at,F=e((k=$).prototype,"_view",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(k.prototype,"view",[w],Object.getOwnPropertyDescriptor(k.prototype,"view"),k.prototype),B=e(k.prototype,"_content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(k.prototype,"content",[P],Object.getOwnPropertyDescriptor(k.prototype,"content"),k.prototype),G=e(k.prototype,"_orientation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.Vertical}}),e(k.prototype,"orientation",[N],Object.getOwnPropertyDescriptor(k.prototype,"orientation"),k.prototype),X=e(k.prototype,"touchMode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.Auto}}),W=e(k.prototype,"movementType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.Elastic}}),Z=e(k.prototype,"elasticity",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),j=e(k.prototype,"inertia",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),q=e(k.prototype,"decelerationRate",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.135}}),Y=e(k.prototype,"aboutToStopVelocity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),K=e(k.prototype,"cancelInnerEvents",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),J=e(k.prototype,"nestedMinThreshold",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.001}}),Q=e(k.prototype,"nestedMaxThreshold",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.999}}),V=k))||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/summary.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./enum.ts","./ScrollAdapter.ts","./View.ts","./Holder.ts"],(function(e){var r,n,t,i,o,a,u,l,f,c,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Node},null,function(e){l=e.Layer},function(e){f=e.ScrollAdapter},function(e){c=e.View},function(e){s=e.Holder}],execute:function(){var p,b,y,d,h,m,g,P,v;o._RF.push({},"b0e6fDQf+9KYppqhBhEhkiD","summary",void 0);var x=a.ccclass,w=a.property,D=(e("Summary",(p=x("Summary"),b=w(u),y=w(u),d=w(u),p((g=r((m=function(e){function r(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,t(r,"fixedPrefab",g,i(r)),t(r,"normalPrefab1",P,i(r)),t(r,"normalPrefab2",v,i(r)),r}n(r,e);var o=r.prototype;return o.getPrefab=function(e){return e.fixed?this.fixedPrefab:1==e.prefabType?this.normalPrefab1:this.normalPrefab2},o.getView=function(){return new D(this)},o.getHolder=function(e,r){return new z(e,r,this)},o.initElement=function(e,r){e.fixed=r.fixed,e.fixed&&(e.layer=l.Highest)},o.start=function(){for(var e=[],r=0;r<100;r++)e.push({fixed:r%10==0,prefabType:1});this.modelManager.insert(e)},r}(f)).prototype,"fixedPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(m.prototype,"normalPrefab1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(m.prototype,"normalPrefab2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h)),function(e){function r(){return e.apply(this,arguments)||this}n(r,e);var t=r.prototype;return t.onVisible=function(){},t.onDisable=function(){},r}(c)),z=function(e){function r(){return e.apply(this,arguments)||this}n(r,e);var t=r.prototype;return t.onCreated=function(){},t.onVisible=function(){},t.onDisable=function(){},r}(s);o._RF.pop()}}}));

System.register("chunks:///_virtual/test_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./enum.ts"],(function(t){var e,n,o,i,r,s,l,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Label,a=t.Component},null,function(t){c=t.HolderEvent}],execute:function(){var h,u,d,f,p;r._RF.push({},"1f6f4j5hlJO1rdYdu2sckN1","test_item",void 0);var b=s.ccclass,g=s.property;t("TestItem",(h=b("TestItem"),u=g(l),h((p=e((f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"label",p,i(e)),e._holder=null,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.node.on(c.CREATED,this.onCreated,this),this.node.on(c.VISIBLE,this.onVisible,this),this.node.on(c.DISABLE,this.onDisabled,this)},r.onCreated=function(){console.log("我收到了创建")},r.onVisible=function(t){console.log("我收到了显示",t.data),this._holder=t,this.label.string=t.data.name},r.onDisabled=function(t){console.log("我收到了隐藏",t)},r.click=function(){350==this._holder.transform.height?this._holder.transform.height=200:this._holder.transform.height=350},r.update=function(){},e}(a)).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/test.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./ScrollAdapter.ts"],(function(e){var t,r,n,i,o,a,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node},null,function(e){s=e.ScrollAdapter}],execute:function(){var l,u,p,f,d;o._RF.push({},"4989d/dj95LEbRXxYKodcL8","test",void 0);var h=a.ccclass,b=a.property;e("Test",(l=h("Test"),u=b(c),l((d=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"prefab",d,i(t)),t}r(t,e);var o=t.prototype;return o.getPrefab=function(e){return this.prefab},o.start=function(){for(var e=[],t=0;t<100;t++)e.push({name:t,index:t});this.modelManager.insert(e)},t}(s)).prototype,"prefab",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/time_item.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,a,r,o,n,l,s,h,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,l=e.Label,s=e.UIOpacity,h=e.v3,c=e.Component}],execute:function(){var d,p,u,_,f,m,v;o._RF.push({},"98c46gtiQRCkYwWq6W0T1lW","time_item",void 0);var y=n.ccclass,b=n.property;e("TimeItem",(d=y("TimeItem"),p=b(l),u=b(s),d((m=t((f=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,a(t,"label",m,r(t)),a(t,"opacity",v,r(t)),t._holder=void 0,t}i(t,e);var o=t.prototype;return o.show=function(e){this._holder=e,this.label.string=this._holder.data.value+" "+this._holder.data.name},o.hide=function(){},o.click=function(){this._holder.adapter.scrollManager.scrollToGroupIndex(.5,this._holder.view.index)},o.lateUpdate=function(e){if(this._holder&&this._holder.model){var t=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),i=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(t),a=this._holder.adapter.centerManager.getContainerOffset(),r=i[this._holder.adapter.mainAxis]+a,o=(r=Math.abs(r))/(.85*this._holder.adapter.mainAxisSize);o=1-o;var n=this.node.getScale();n[this._holder.adapter.mainAxis]=o,this.node.setScale(n);var l=1-r/(.5*this._holder.adapter.mainAxisSize);this.opacity.opacity=255*l;var s=36*(1-o),c=.1*r-.1*r*o*Math.cos(s*Math.PI/180);0==this._holder.data.type?this.label.node.setPosition(h(c,0)):2==this._holder.data.type&&this.label.node.setPosition(h(-c,0))}},t}(c)).prototype,"label",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(f.prototype,"opacity",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=f))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/time_main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./time.ts"],(function(e){var t,i,n,r,o,a,l,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.director,c=e.Component},function(e){u=e.Time}],execute:function(){var s,m,p,f,h,y,b,g,v;o._RF.push({},"7bf76HowPBMDpYMlIy7LoYb","time_main",void 0);var D=a.ccclass,M=a.property;e("TimeMain",(s=D("TimeMain"),m=M(u),p=M(u),f=M(u),s((b=t((y=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"timeYear",b,r(t)),n(t,"timeMoon",g,r(t)),n(t,"timeDay",v,r(t)),t}i(t,e);var o=t.prototype;return o.home=function(){l.loadScene("home")},o.now=function(){var e=new Date;this.timeYear.scrollTo(2,e.getFullYear()),this.timeMoon.scrollTo(1,e.getMonth()+1),this.timeDay.scrollTo(1,e.getDate())},o.start=function(){var e=this;this.scheduleOnce((function(){e.now()}))},t}(c)).prototype,"timeYear",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(y.prototype,"timeMoon",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(y.prototype,"timeDay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/time.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./time_item.ts","./ScrollAdapter.ts","./View.ts","./Holder.ts"],(function(t){var e,n,i,r,o,a,u,s,l,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Node},null,function(t){s=t.TimeItem},function(t){l=t.ScrollAdapter},function(t){c=t.View},function(t){p=t.Holder}],execute:function(){var f,h,y,d,m,v;o._RF.push({},"4a4d813ttpCaZeKBWEWAuzf","time",void 0);var b=a.ccclass,g=a.property,w=(t("Time",(f=b("Time"),h=g(u),f((m=e((d=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"prefab",m,r(e)),i(e,"type",v,r(e)),e}n(e,t);var o=e.prototype;return o.getPrefab=function(t){return this.prefab},o.getView=function(){return new w(this)},o.getHolder=function(t,e){return new _(t,e,this)},o.initElement=function(t,e){},o.onLoad=function(){var t=[];if(0==this.type)for(var e=0;e<2e3;e++)t.push({value:1850+e,name:"年",type:this.type});else if(1==this.type)for(var n=0;n<12;n++)t.push({value:n+1,name:"月",type:this.type});else if(2==this.type)for(var i=0;i<31;i++)t.push({value:i+1,name:"日",type:this.type});this.modelManager.insert(t)},o.scrollTo=function(t,e){var n=this.modelManager.modelList.findIndex((function(t){return t.data.value==e}));this.scrollManager.scrollToGroupIndex(t,n)},e}(l)).prototype,"prefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(d.prototype,"type",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=d))||y)),function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.onVisible=function(){},i.onDisable=function(){},e}(c)),_=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._item=void 0,e}n(e,t);var i=e.prototype;return i.onCreated=function(){this._item=this.node.getComponent(s)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},e}(p);o._RF.pop()}}}));

System.register("chunks:///_virtual/View.ts",["./rollupPluginModLoBabelHelpers.js","cc","./debug.ts","./enum.ts","./helper.ts","./LayoutManager.ts","./ViewManager.ts"],(function(e){var t,i,r,a,s,n,o,h;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,r=e._decorator},function(e){a=e.DEBUG_DRAW_LIND_WIDTH},function(e){s=e.WrapMode},function(e){n=e.Helper},function(e){o=e.LayoutManager},function(e){h=e.ViewManager}],execute:function(){var l;i._RF.push({},"20c27Yt8z5L9bZJqa8MgjS3","View",void 0);var d=r.ccclass;r.property,e("View",d("View")(l=function(){function e(e){this.__debug_graphics=void 0,this._adapter=void 0,this._total=0,this._innerSize=0,this._group=null,this._holderList=[],this._tempHolderList=[],this._isOverflowFixed=void 0,this._adapter=e,this.internal_reset(),this.__createDebug()}var i=e.prototype;return i.__createDebug=function(){},i.__drawDebug=function(){if(this.__debug_graphics&&this.group){this.__debug_graphics.clear();var e=this.adapter.mainAxis,t=this.adapter.crossAxis,i={x:0,y:0},r={x:this.group.size.x,y:this.group.size.y},s={x:this.group.anchorPoint.x,y:this.group.anchorPoint.y};i[e]=this.group.position[e]-r[e]*s[e],i[e]+=.5*a,i[t]=this.group.position[t]-r[t]*(1-s[t]),i[t]+=.5*a,r[e]-=a,r[t]-=a,this.__debug_graphics.roundRect(i.x,i.y,r.x,r.y,2),this.__debug_graphics.stroke()}},i.getFixedHolders=function(){if(!this.group.isFixed)return[];for(var e=[],t=this.holderList.length,i=0;i<t;i++){var r=this.holderList[i];r.model.element.fixed&&e.push(r)}return e},i.internal_isWrap=function(e,t){var i=!1,r=t&&t.models[t.models.length-1];if(r)switch(e.element.wrapBeforeMode){case s.Wrap:i=!0;break;case s.Nowrap:i=r.element.wrapAfterMode==s.Wrap;break;case s.Auto:(i=r.element.wrapAfterMode==s.Wrap)||(i=this._calculateInnerSize(e,t))}return i},i.internal_reset=function(){this._group=null,this._innerSize=0,this._total=0,this._holderList.length=0,this._isOverflowFixed=!0,this._tempHolderList.length=0,this.__debug_graphics&&this.__debug_graphics.clear()},i.internal_push=function(e){this._total++;var t=this.adapter.crossAxis;(!e.element.ignoreLayout||e.element.ignoreLayout&&e.element.placeholder)&&(0!=this._innerSize&&(this._innerSize+=this.adapter.layoutManager.spacing),this._innerSize+=e.size[t])},i.internal_recycleHolders=function(e){for(var t=0;t<this._holderList.length;t++){var i=this._holderList[t];i.internal_disable(),e(i)}this._holderList.length=0},i.internal_preVisible=function(e,t){return this._group=e,this._createHolders(t),this},i.internal_visible=function(){this.register();for(var e=0;e<this._tempHolderList.length;e++){var t=this._tempHolderList[e],i=t.holder,r=t.model,a=t.isNew;i.internal_visible(this,r,a)}this._tempHolderList.length=0,this.adapter.layoutManager.layout(this.group),this.onVisible()},i.internal_disable=function(){this.adapter.layoutManager.unLayout(this.index),this.unregister(),this.onDisable(),this.internal_reset()},i.internal_holderChanged=function(e){var t=!0,i=this.adapter.mainAxis,r=this.group.size[i];if(!e){for(var a=0,s=0;s<this.group.models.length;s++){var o=this.group.models[s],h=o.size[i];(this.adapter.isVertical&&this.adapter.layoutManager.controlScaleHeight||this.adapter.isHorizontal&&this.adapter.layoutManager.controlScaleWidth)&&(h*=o.scale[i]),a=Math.max(a,h)}n.approximately(this.group.size[i],a)||(this.group.oldSize[i]=this.group.size[i],this.group.size[i]=a,t=!1)}t?this.adapter.layoutManager.layout(this.group):this.adapter.viewManager.internal_viewChanged(this,r)},i.register=function(){this.adapter.viewManager.on(h.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.on(h.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.on(o.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.on(o.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)},i.unregister=function(){this.adapter.viewManager.off(h.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.off(h.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.off(o.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.off(o.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)},i._createHolders=function(e){var t=this.adapter.mainAxis;this._tempHolderList.length=0;for(var i=0;i<this.group.models.length;i++){var r=this.group.models[i],a=!1,s=e&&e(r);s||(s=this.adapter.viewManager.internal_getHolder(r),a=!0),r.position[t]=this.group.position[t],this._holderList.push(s),this._tempHolderList.push({holder:s,model:r,isNew:a})}},i._calculateInnerSize=function(e,t){if(0==this._total)return!1;var i=e.size[this.adapter.crossAxis];return this._innerSize+i+this.adapter.layoutManager.spacing>t.size[this.adapter.crossAxis]},i._onLayoutComplated=function(e){if(-1!=e.indexOf(this.index)){for(var t=0;t<this.holderList.length;t++){this.holderList[t].internal_layout()}this.group.isFixed&&this._calcFixedPosition()}},i._calcFixedPosition=function(){for(var e=this._holderList.length,t=this.adapter.mainAxis,i=0;i<e;i++){var r=this._holderList[i];if(r.element.fixed){var a={x:r.model.position.x,y:r.model.position.y},s=0,n=this._getModelBoundary(r.model);if(this._isNeedFixed(n)){a[t]-=n;var o=this.adapter.viewManager.getNextFixedHolders(this.index);s=this._getRelativeNextHolderOffset(r,o)}a[t]+=s*this.adapter.multiplier,a[t]!=r.node.position[t]&&r.node.setPosition(a.x,a.y)}}},i._onChangedLayoutState=function(){this.adapter.layoutManager.layout(this.group)},i._onScroll=function(){this.group.isFixed&&0!=this._holderList.length&&this._calcFixedPosition()},i._onLateUpdate=function(e){},i._isNeedFixed=function(e){return 1==this.adapter.multiplier?e>=0:e<=0},i._getModelBoundary=function(e){var t=n.isNumber(e.element.fixedOffset)?e.element.fixedOffset:0;return 1==this.adapter.multiplier?this._getModelHeaderBoundary(e)+t:this._getModelFooterBoundary(e)-t},i._getModelHeaderBoundary=function(e){var t=this.adapter.mainAxis;return e.position[t]+e.size[t]*(1-e.anchorPoint[t])*e.scale[t]+this.adapter.scrollManager.contentPosition},i._getModelFooterBoundary=function(e){var t=this.adapter.mainAxis;return e.position[t]-e.size[t]*e.anchorPoint[t]*e.scale[t]+this.adapter.scrollManager.contentPosition},i._getModelSizeWithSpacing=function(e){var t=this.adapter.mainAxis,i=n.isNumber(e.element.fixedOffset)?e.element.fixedOffset:0,r=n.isNumber(e.element.fixedSpacing)?e.element.fixedSpacing:this.adapter.viewManager.spacing;return e.size[t]*e.scale[t]+i+r},i._getReatureRelativeBoundary=function(e,t){var i=1==this.adapter.multiplier?this._getModelHeaderBoundary(e):this._getModelFooterBoundary(e),r=1==this.adapter.multiplier?i+t:t-i;return Math.min(r,t)},i._getRelativeNextHolderOffset=function(e,t){for(var i=t.length,r=this.adapter.crossAxis,a=this._getModelSizeWithSpacing(e.model),s=0,n=0;n<i;n++){var o=t[n],h=this._getReatureRelativeBoundary(o.model,a),l=e.model.scale[r]==o.model.scale[r],d=e.model.size[r]==o.model.size[r];if(e.fixedIndex==o.fixedIndex&&l&&d){s=h>0?h:0;break}h>0&&(s=Math.max(s,h))}return s},t(e,[{key:"isOverflowFixed",get:function(){return this._isOverflowFixed}},{key:"adapter",get:function(){return this._adapter}},{key:"group",get:function(){return this._group}},{key:"holderList",get:function(){return this._holderList}},{key:"index",get:function(){return this.group?this.group.index:-1}}]),e}())||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/ViewManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Group.ts","./Manager.ts","./View.ts","./enum.ts","./helper.ts","./ModelManager.ts","./ScrollManager.ts"],(function(i){var e,t,r,s,a,n,o,l,h,d,u,p,c,_,g,f,v,x;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,s=i.assertThisInitialized,a=i.createClass},function(i){n=i.cclegacy,o=i._decorator,l=i.instantiate},function(i){h=i.Group},function(i){d=i.Manager},function(i){u=i.View},function(i){p=i.ArrangeAxis,c=i.StretchDirection,_=i.MagneticDirection,g=i.ScrollDirection},function(i){f=i.Helper},function(i){v=i.ModelManager},function(i){x=i.ScrollManager}],execute:function(){var b,m,w,A,V,H,z,S,y,F,E,I,M,O,P,D,T,N,G,L,C,R,k,B,U,W,Z,j,q,J,K,Q,X,Y,$;n._RF.push({},"74bbbWBWzpGspxEpsEO9xIS","ViewManager",void 0);var ii=o.ccclass,ei=o.property,ti=function(i){return i[i.ON_SCROLL=0]="ON_SCROLL",i[i.ON_LATEUPDATE=1]="ON_LATEUPDATE",i[i.ON_CLEARVIEWS=2]="ON_CLEARVIEWS",i[i.ON_UPDATE_VIEWS=3]="ON_UPDATE_VIEWS",i[i.ON_CHANGED_VIRTUALSIZE=4]="ON_CHANGED_VIRTUALSIZE",i[i.ON_MAGNETIC=5]="ON_MAGNETIC",i[i.ON_CHANGED_OVERFLOWHEADER=6]="ON_CHANGED_OVERFLOWHEADER",i[i.ON_RESET_ALL_STATE=7]="ON_RESET_ALL_STATE",i[i.ON_CHANGED_SPACING=8]="ON_CHANGED_SPACING",i}(ti||{});i("ViewManager",(b=ii("ViewManager"),m=ei({type:p}),w=ei({type:p,tooltip:"主轴方向的排列方式\n        Start: 从上到下、从左到右\n        End: 从下到上、从右到左"}),A=ei({type:c,tooltip:"当元素的尺寸、缩放改变时，受影响的其他元素应该如何计算新的位置\n        Auto: 以可视区域中心为起点，所有其他元素向两边延伸\n        Center: 以当前变化的元素为起点，所有其他元素向两边延伸\n        Header: 以当前变化的元素和它头部的所有元素向头部延伸\n        Footer: 以当前变化的元素和它尾部的所有元素向尾部延伸"}),V=ei({range:[0,1],slide:!0,step:.01,tooltip:"当元素移动到可视区域外偏移多少时才进行回收\n        比如元素的尺寸为100，当元素超出可视范围 100+100*0.3 时就会被回收\n        没有特殊需求时，默认值即可"}),H=ei({range:[0,1],slide:!0,step:.01,tooltip:"此值会影响填充元素的时机\n        没有特殊需求时，默认值即可"}),z=ei({tooltip:"主轴方向元素的间隙"}),S=ei({group:{id:"padding",name:"padding"}}),y=ei({group:{id:"padding",name:"padding"}}),F=ei({group:{id:"padding",name:"padding"}}),E=ei({group:{id:"padding",name:"padding"}}),I=ei({tooltip:"磁性停靠\n        开启后，会在增加数据时，根据设置进行自动滚动到顶部或底部"}),M=ei({type:_,visible:function(){return this.magnetic},tooltip:"停靠的方向"}),O=ei({visible:function(){return this.magnetic},tooltip:"停靠动画的时长"}),P=ei({visible:function(){return this.magnetic},tooltip:"默认情况下，仅当添加数据时才会触发停靠\n        当开启时，元素的尺寸改变时,也会否触发停靠"}),D=ei({tooltip:"头部循环"}),T=ei({tooltip:"尾部循环"}),b((($=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e=i.call.apply(i,[this].concat(a))||this,r(e,"_arrangeAxis",L,s(e)),r(e,"stretchDirection",C,s(e)),r(e,"overflowOffset",R,s(e)),r(e,"enterOffset",k,s(e)),r(e,"_spacing",B,s(e)),r(e,"left",U,s(e)),r(e,"right",W,s(e)),r(e,"top",Z,s(e)),r(e,"bottom",j,s(e)),r(e,"magnetic",q,s(e)),r(e,"magneticDirection",J,s(e)),r(e,"magneticDuration",K,s(e)),r(e,"magneticSizeChanges",Q,s(e)),r(e,"loopHeader",X,s(e)),r(e,"loopFooter",Y,s(e)),e._groupLength=0,e._cacheGroups=[],e._groups=[],e._disableViews=[],e._visibleViews=[],e._fixedViews=[],e._disableHolders=[],e._isFill=!1,e._headerIndex=-1,e._footerIndex=-1,e._virtualSize=0,e._overflowHeader=0,e._cacheHeadeDatas=[],e._cacheHeadePosition=void 0,e}t(e,i);var n=e.prototype;return n.onInit=function(){this.adapter.modelManager.on(v.Event.ON_CHANGE_BEFORE,this._onModelChangeBefore,this),this.adapter.modelManager.on(v.Event.ON_INSERT,this._updateGroups,this),this.adapter.modelManager.on(v.Event.ON_REMOVE,this._updateGroups,this),this.adapter.modelManager.on(v.Event.ON_MOVE,this._updateGroups,this),this.adapter.modelManager.on(v.Event.ON_CLEAR,this._onClearModel,this),this.adapter.scrollManager.on(x.Event.ON_SCROLL,this._onScroll,this),this.adapter.scrollManager.on(x.Event.ON_VIEW_SIZE_CHANGED,this._resetAllState,this),this.adapter.scrollManager.on(x.Event.ON_CHANGED_ORIENTATION,this._resetAllState,this)},n._clearAll=function(){for(var i,e=0,t=this._visibleViews.length;e<t;e++)this._recycleViewToDisableViews(this._visibleViews[e]);(i=this._cacheGroups).push.apply(i,this._groups),this._clearFixedViews(),this._visibleViews.length=0,this._groups.length=0,this.virtualSize=0,this.overflowHeader=0},n._onClearModel=function(){this._clearAll(),this.emit(ti.ON_CLEARVIEWS)},n._resetAllState=function(){this._clearAll(),this.internal_updateVisibleView(0),this.emit(ti.ON_RESET_ALL_STATE)},n._onModelChangeBefore=function(){if(this.header&&this.virtualSize>this.adapter.mainAxisSize){var i=this.getVisibleIndexByGroupIndex(0);if(-1!=i){var e=this._visibleViews[i];this._cacheHeadeDatas=e.group.models.map((function(i){return i.data})),this._cacheHeadePosition={x:e.group.position.x,y:e.group.position.y}}else this._cacheHeadeDatas=this.header.group.models.map((function(i){return i.data})),this._cacheHeadePosition={x:this.header.group.position.x,y:this.header.group.position.y}}},n._updateGroups=function(i){var e,t=this,r=this._getViewFromDisibleViews(null),s=this.getGroupIndexByModelIndex(i);-1==s&&(s=this._groupLength-1);var a=null,n=!1,o={modelIndex:i,fixedIndex:-1},l=this._groups[s-1];for(l&&(o.fixedIndex=l.fixedIndex);;){(a=this._groups[s])||((a=this._getGroupFromCache()).internal_setIndex(this._groups.length),this._groups.push(a),s=this._groups.length);var h=a.internal_insert(o,r,n);if(s++,n=!0,!h)break}var d=this._groups.splice(s,this._groups.length);(e=this._cacheGroups).push.apply(e,d),this._groupLength=this._groups.length;var u=-1,p=0;this._cacheHeadeDatas.length>0&&(u=this._groups.findIndex((function(i){return i.internal_includes(t._cacheHeadeDatas)})));var c=this._groups[u];c&&(p+=c.size[this.adapter.mainAxis]+this.spacing,c.internal_setPosition(this._cacheHeadePosition[this.adapter.mainAxis]));for(var g=u-1;g>=0;g--){var f=this._groups[g];this._calcMainAxisPosition(f,c,_.Header),p+=f.size[this.adapter.mainAxis]+this.spacing,c=f}c=this._groups[u];for(var v=u+1;v<this.groupLength;v++){f=this._groups[v];this._calcMainAxisPosition(f,c,_.Footer),p+=f.size[this.adapter.mainAxis]+this.spacing,c=f}p-=this.spacing,this._virtualSize=Math.max(0,p),this._resetOverflowHeader(this._groups[0]),r.internal_reset(),this._disableViews.push(r),this.updateVisibles(u),this._cacheHeadeDatas=[],this._cacheHeadePosition=null},n.updateVisibles=function(i){var e=[];i=Math.max(0,i);for(var t=function(i){var t=e.findIndex((function(e){return e.oldData==i.data}));return-1!=t?e.splice(t,1)[0]:null},r=0;r<this._visibleViews.length;r++){var s=this._visibleViews[r];e=e.concat(s.holderList),s.internal_reset()}for(var a=this.adapter.mainAxisSize,n=0,o=this.visibleLength,l=i,h=this._groups.length;l<h;l++){var d=this._groups[l];if(this.getVisibleMainAxisSize()>=a&&o<=0)break;(p=this._visibleViews[n++])||(p=this._getViewFromDisibleViews(d.index),this._visibleViews.push(p)),p.internal_preVisible(d,t),o--}for(var u=this._visibleViews.length-1;u>=0;u--){var p;if((p=this._visibleViews[u]).holderList.length>0)break;this._disableFromVisibleViews(u)}for(var c=0,_=e.length;c<_;c++){var g=e[c];g.internal_disable(),this._disableHolders.push(g)}for(var f=0;f<this.visibleLength;f++)this._visibleViews[f].internal_visible();this._forceFill(),this._calcMagnetic(),this.emit(ti.ON_UPDATE_VIEWS)},n._getGroupFromCache=function(){var i=this._cacheGroups.pop();return i||(i=new h(this.adapter)),i.internal_reset(),i},n._calcMagnetic=function(){if(this.magnetic&&this.header){var i=!1;0==this.adapter.scrollManager.velocity&&(this.magneticDirection==_.Footer?this.footer.index==this._groupLength-1&&(this.adapter.scrollManager.scrollToFooter(this.magneticDuration),i=!0):0==this.header.index&&(this.adapter.scrollManager.scrollToHeader(this.magneticDuration),i=!0)),this.emit(ti.ON_MAGNETIC,i)}},n._calcMainAxisPosition=function(i,e,t){if(i)if(e){var r,s,a=this.adapter.mainAxis,n=this.adapter.multiplier,o=t==_.Footer?1:-1;t==_.Footer?(r=1==n?e.anchorPoint[a]:1-e.anchorPoint[a],s=1==n?1-i.anchorPoint[a]:i.anchorPoint[a]):(r=1==n?1-e.anchorPoint[a]:e.anchorPoint[a],s=1==n?i.anchorPoint[a]:1-i.anchorPoint[a]);var l=e.position[a];l-=e.size[a]*r*o*n,l-=this.spacing*n*o,l-=i.size[a]*s*o*n,i.internal_setPosition(l)}else i.internal_setPosition(this._getMainAxisHeaderPosition(i))},n._getMainAxisHeaderPosition=function(i){var e=0,t=0;return this.adapter.isVertical?(e=this.adapter.isArrangeAxisStart?-this.top:this.bottom,t=this.adapter.isArrangeAxisStart?1-i.anchorPoint[this.adapter.mainAxis]:i.anchorPoint[this.adapter.mainAxis]):(e=this.adapter.isArrangeAxisStart?this.left:-this.right,t=this.adapter.isArrangeAxisStart?i.anchorPoint[this.adapter.mainAxis]:1-i.anchorPoint[this.adapter.mainAxis]),e-=t*i.size[this.adapter.mainAxis]*this.adapter.multiplier},n._getViewFromDisibleViews=function(i){var e=null;if(null!=i){var t=this._fixedViews.findIndex((function(e){return e.index==i}));if(-1!=t){var r=this._fixedViews.splice(t,1)[0];this._recycleViewToDisableViews(r)}}return e||(e=this._disableViews.pop()),e||(e=this.adapter.getView()),e},n._getHolderFromDisableHolders=function(i){var e=this._disableHolders.findIndex((function(e){return e.code==i.code}));if(-1!=e)return this._disableHolders.splice(e,1)[0]},n._disableFromVisibleViews=function(i){var e=-1;e=i instanceof u?this._visibleViews.findIndex((function(e){return e.index==i.index})):i,this._recycleViewToDisableViews(this._visibleViews[e]),this._visibleViews.splice(e,1)},n._recycleViewToDisableViews=function(i){var e=this;i&&(i.internal_recycleHolders((function(i){return e._disableHolders.push(i)})),i.internal_disable(),this._disableViews.push(i))},n._clearFixedViews=function(){for(var i=0,e=this._fixedViews.length;i<e;i++){var t=this._fixedViews[i];this._recycleViewToDisableViews(t)}this._fixedViews.length=0},n._checkHeaderInvisible=function(){this.header&&(this.loopFooter||this.footer.index!=this.groupLength-1)&&this._isOverflowHeader(this.header.group)&&(this._disableFromVisibleViews(0),this._checkHeaderInvisible())},n._checkFooterInvisible=function(){this.footer&&(this.loopHeader||0!=this.header.index)&&this._isOverflowFooter(this.footer.group)&&(this._disableFromVisibleViews(this._visibleViews.length-1),this._checkFooterInvisible())},n._isOverflowHeader=function(i,e){void 0===e&&(e=this.overflowOffset);var t=this.internal_getGroupFooterBoundary(i);return e*=i.size[this.adapter.mainAxis],1==this.adapter.multiplier?t>=e:t<=-e},n._isOverflowFooter=function(i,e){void 0===e&&(e=this.overflowOffset);var t=this.internal_getGroupHeaderBoundary(i);return e*=i.size[this.adapter.mainAxis],1==this.adapter.multiplier?t+this.adapter.mainAxisSize<=-e:t-this.adapter.mainAxisSize>=e},n._isEnterFooter=function(i){if(!i)return!1;var e=this.internal_getGroupFooterBoundary(i),t=this.enterOffset*i.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e+this.adapter.mainAxisSize+t>=0:e-this.adapter.mainAxisSize-t<=0},n._isEnterHeader=function(i){if(!i)return!1;var e=this.internal_getGroupHeaderBoundary(i),t=this.overflowOffset*i.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e-t<=0:e+t>=0},n._fillHeader=function(){var i=this._groups[this._headerIndex];if(this._isEnterHeader(i)){var e=this._accumTargetSizeTowardsHeader(i.index,this.internal_getInitHeaderSize(i)),t=e.index,r=e.size,s=this._groups[t];if(s&&-1==this.getVisibleIndexByGroupIndex(t)){var a=this.internal_convertSizeToHeaderPosition(r,s);s.internal_setPosition(a);var n=this._getViewFromDisibleViews(s.index);this._visibleViews.unshift(n),n.internal_preVisible(s).internal_visible(),0==n.index&&this._resetOverflowHeader(n.group),this._headerIndex=s.index,this._fillHeader()}}},n._fillFooter=function(){var i=this._groups[this._footerIndex];if(this._isEnterFooter(i)){var e=this._accumTargetSizeTowardsFooter(i.index,this.internal_getInitFooterSize(i)),t=e.index,r=e.size,s=this._groups[t];if(s&&-1==this.getVisibleIndexByGroupIndex(t)){var a=this.internal_convertSizeToFooterPosition(r,s);s.internal_setPosition(a);var n=this._getViewFromDisibleViews(s.index);this._visibleViews.push(n),n.internal_preVisible(s).internal_visible(),0==n.index&&this._resetOverflowHeader(n.group),this._footerIndex=s.index,this._fillFooter()}}},n._fillFixedView=function(){if(this.header&&(-1!=this.header.group.fixedIndex||this.header.group.isFixed))for(var i=this.header.index,e=this.adapter.mainAxis,t=this.internal_getInitHeaderSize(this.header.group),r=i-1;r>=0;r--){var s=this._groups[r];if(!s)return void console.error("_fillFixedView错误 找不到group",r);if(t+=s.size[e]+this.spacing,s.isFixed){var a=this.internal_convertSizeToHeaderPosition(t,s);if(-1!=this._fixedViews.findIndex((function(i){return i.index==s.index}))){f.approximately(a,s.position[e])||(s.internal_setPosition(a),this.adapter.layoutManager.layout(s));break}this._clearFixedViews();a=this.internal_convertSizeToHeaderPosition(t,s);s.internal_setPosition(a);var n=this._getViewFromDisibleViews(s.index);n.internal_preVisible(s).internal_visible(),this._fixedViews.push(n);break}}},n._accumTargetSizeTowardsHeader=function(i,e){for(var t=this._groups.length;;){if(0==i&&this.loopHeader&&(i=t),0==i)return{index:i,size:e};if(i--,!this._groups[i])return{index:i,size:e};if((e+=this.internal_accumulationSize(i))>=0)return{index:i,size:e}}},n._accumTargetSizeTowardsFooter=function(i,e){for(var t=this._groups.length;;){if(i==t-1&&this.loopFooter&&(i=-1),i==t-1)return{index:i,size:e};if(i++,!this._groups[i])return{index:i,size:e};if((e+=this.internal_accumulationSize(i))>=0)return{index:i,size:e}}},n._fillFooterHandle=function(){this._checkHeaderInvisible(),this._fillFooter()},n._fillHeaderHandle=function(){this._checkFooterInvisible(),this._fillHeader()},n._forceFill=function(){this._updateHeaderFooterIndex(),this._fillHeaderHandle(),this._fillFooterHandle()},n._updateHeaderFooterIndex=function(){this._headerIndex=this.header?this.header.index:0,this._footerIndex=this.footer?this.footer.index:0},n._onScroll=function(i){if(0!=this._groups.length){switch(this._updateHeaderFooterIndex(),i){case g.Up:case g.Left:this.adapter.isArrangeAxisStart?this._fillFooterHandle():this._fillHeaderHandle();break;case g.Down:case g.Right:this.adapter.isArrangeAxisStart?this._fillHeaderHandle():this._fillFooterHandle()}this._fillFixedView(),this.emit(ti.ON_SCROLL)}},n._stretchToHeader=function(i,e){for(var t=this._visibleViews[i],r=e;r>=0;r--){var s=this._visibleViews[r];t?(this._calcMainAxisPosition(s.group,t.group,_.Header),this.adapter.layoutManager.layout(s.group)):this.getVisibleMainAxisSize()<this.adapter.mainAxisSize&&this._calcMainAxisPosition(s.group,null,_.Header),t=s}},n._stretchToFooter=function(i,e){for(var t=this._visibleViews[i],r=e;r<this._visibleViews.length;r++){var s=this._visibleViews[r];t?(this._calcMainAxisPosition(s.group,t.group,_.Footer),this.adapter.layoutManager.layout(s.group)):this.getVisibleMainAxisSize()<this.adapter.mainAxisSize&&this._calcMainAxisPosition(s.group,null,_.Footer),t=s}},n._resetOverflowHeader=function(i){if(!i)return this.overflowHeader=0;var e=this.adapter.mainAxis,t=i.anchorPoint[e];t=1==this.adapter.multiplier?1-t:t;var r=i.position[e];r+=i.size[e]*t*this.adapter.multiplier,this.overflowHeader=r},n._calcOverflowHeader=function(i,e,t){var r=this.getVisibleIndexByGroupIndex(0);if(-1!=r){var s=this._visibleViews[r];return this._resetOverflowHeader(s.group)}var a=this.adapter.mainAxis,n=i.anchorPoint[a];n=1==this.adapter.multiplier?1-n:n;var o=i.oldSize[a],l=i.size[a],h=this.adapter.multiplier;switch(this.stretchDirection){case c.Header:var d=i.oldPosition[a]+o*n*h;(u=1==h?this.overflowHeader>=d:this.overflowHeader<=d)&&(this.overflowHeader+=(l-o)*h);break;case c.Footer:d=i.oldPosition[a]+o*n*h;(u=1==h?this.overflowHeader>=d:this.overflowHeader<=d)||(this.overflowHeader-=(l-o)*h);break;case c.Center:d=i.oldPosition[a]+o*n*h;(u=1==h?this.overflowHeader>=d:this.overflowHeader<=d)?this.overflowHeader+=.5*(l-o)*h:this.overflowHeader-=.5*(l-o)*h;break;case c.Auto:d=i.oldPosition[a]+o*n*h;var u=1==h?this.overflowHeader>=d:this.overflowHeader<=d;e<=t&&(d=i.oldPosition[a]+o*n*h,u=-1==h?this.overflowHeader>=d:this.overflowHeader<=d),u&&(e<=t?this.overflowHeader-=(l-o)*h:this.overflowHeader+=(l-o)*h)}},n.internal_lateUpdate=function(i){this._isFill&&(this._isFill=!1,this._forceFill()),this.emit(ti.ON_LATEUPDATE,i)},n.internal_viewChanged=function(i,e){var t=i.group.size[this.adapter.mainAxis]-e;this.virtualSize+=t;var r=this.getVisibleIndexByGroupIndex(i.index),s=-1;if(this.getVisibleMainAxisSize()<this.adapter.mainAxisSize||this.stretchDirection==c.Footer){var a=r-1;this._visibleViews[a]||this.adapter.layoutManager.layout(i.group),this._stretchToFooter(a,r)}else if(this.stretchDirection==c.Header){var n=r+1;this._visibleViews[n]||this.adapter.layoutManager.layout(i.group),this._stretchToHeader(n,r)}else if(this.stretchDirection==c.Center)this.adapter.layoutManager.layout(i.group),this._stretchToHeader(r,r-1),this._stretchToFooter(r,r+1);else{if(-1==(s=this.adapter.centerManager.getCenterVisibleIndex()))throw Error("找不到中心索引"+i.index);var o=this._visibleViews[s];this.adapter.layoutManager.layout(o.group),this._stretchToHeader(s,s-1),this._stretchToFooter(s,s+1)}this._calcOverflowHeader(i.group,s,r),this.magneticSizeChanges&&this._calcMagnetic(),this._isFill=!0,this.emit(ti.ON_CHANGED_VIRTUALSIZE)},n.internal_getHolder=function(i){var e=this._getHolderFromDisableHolders(i);if(!e){var t=this.adapter.getPrefab(i.data),r=l(t);e=this.adapter.getHolder(r,i.code)}return e.node.parent=this.adapter.scrollManager.getLayerNode(i.element.layer),e},n.internal_updateVisibleView=function(i){this._onModelChangeBefore(),this._updateGroups(i)},n.internal_getGroupFooterBoundary=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var t=i.position[this.adapter.mainAxis];return t-=i.size[this.adapter.mainAxis]*e*this.adapter.multiplier,t+=this.adapter.scrollManager.contentPosition},n.internal_getGroupHeaderBoundary=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];return e=1==this.adapter.multiplier?1-e:e,i.position[this.adapter.mainAxis]+this.adapter.scrollManager.contentPosition+e*i.size[this.adapter.mainAxis]*this.adapter.multiplier},n.internal_getInitHeaderSize=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?1-e:e;var t=-i.position[this.adapter.mainAxis]*this.adapter.multiplier;return t-=i.size[this.adapter.mainAxis]*e,t-=this.adapter.scrollManager.contentPosition*this.adapter.multiplier,t=this.adapter.mainAxisSize-t},n.internal_getInitFooterSize=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var t=-i.position[this.adapter.mainAxis]*this.adapter.multiplier;return t+=i.size[this.adapter.mainAxis]*e,t-=this.adapter.scrollManager.contentPosition*this.adapter.multiplier},n.internal_accumulationSize=function(i){var e=this._groups[i];return e?e.size[this.adapter.mainAxis]+this.spacing:0},n.internal_convertSizeToFooterPosition=function(i,e){var t=e.anchorPoint[this.adapter.mainAxis];t=1==this.adapter.multiplier?t:1-t;var r=e.size[this.adapter.mainAxis]*t,s=-this.adapter.scrollManager.contentPosition;return s-=this.adapter.multiplier*i-this.adapter.multiplier*r},n.internal_convertSizeToHeaderPosition=function(i,e){var t=e.anchorPoint[this.adapter.mainAxis];t=1==this.adapter.multiplier?1-t:t;var r=e.size[this.adapter.mainAxis]*t,s=this.adapter.multiplier*i-this.adapter.multiplier*r;return s-=this.adapter.multiplier*this.adapter.mainAxisSize,s-=this.adapter.scrollManager.contentPosition},n.getGroup=function(i){return this._groups[i]},n.getVisibleView=function(i){return this._visibleViews[i]},n.getVisibleMainAxisSize=function(){if(0==this._visibleViews.length)return 0;for(var i=0,e=this.adapter.mainAxis,t=0,r=this._visibleViews.length;t<r;t++){var s=this._visibleViews[t];s.group&&(i+=s.group.size[e]+this.spacing)}return i-=this.spacing},n.getGroupIndexByModelIndex=function(i){for(var e=0,t=this._groups.length;e<t;e++){if(-1!=this._groups[e].findModelIndex(i))return e}return-1},n.getVisibleIndexByGroupIndex=function(i){return this._visibleViews.findIndex((function(e){return e.index==i}))},n.getNextFixedHolders=function(i){for(var e=[],t=this.getVisibleIndexByGroupIndex(i)+1,r=this._visibleViews.length;t<r;t++){var s=this._visibleViews[t];if(s.index!=i&&s.group.isFixed){e=s.getFixedHolders();break}}return e},n.getMagneticOffset=function(){if(!this.magnetic)return 0;var i=this.adapter.isHorizontal?-this.adapter.multiplier:this.adapter.multiplier;return this.magneticDirection==_.Footer?this.footer?Math.max(0,this.adapter.mainAxisSize-this.adapter.mainAxisPadding-this.getVisibleMainAxisSize())*i:this.adapter.mainAxisSize*i:0},a(e,[{key:"arrangeAxis",get:function(){return this._arrangeAxis},set:function(i){i!=this._arrangeAxis&&(this._arrangeAxis=i,this._resetAllState())}},{key:"spacing",get:function(){return this._spacing},set:function(i){i!=this._spacing&&(this._spacing=i,this._resetAllState())}},{key:"header",get:function(){return this._visibleViews[0]}},{key:"footer",get:function(){return this._visibleViews[this._visibleViews.length-1]}},{key:"overflowHeader",get:function(){return this._overflowHeader},set:function(i){i!=this._overflowHeader&&(this._overflowHeader=i,this.emit(ti.ON_CHANGED_OVERFLOWHEADER,i))}},{key:"virtualSize",get:function(){return this._virtualSize},set:function(i){i!=this._virtualSize&&(this._virtualSize=i,this.emit(ti.ON_CHANGED_VIRTUALSIZE))}},{key:"groupLength",get:function(){return this._groupLength}},{key:"visibleLength",get:function(){return this._visibleViews.length}},{key:"min",get:function(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getGroupFooterBoundary(this.footer.group):this.internal_getGroupHeaderBoundary(this.header.group):0}},{key:"max",get:function(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getGroupHeaderBoundary(this.header.group):this.internal_getGroupFooterBoundary(this.footer.group):0}}]),e}(d)).Event=ti,L=e((G=$).prototype,"_arrangeAxis",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.Start}}),e(G.prototype,"arrangeAxis",[w],Object.getOwnPropertyDescriptor(G.prototype,"arrangeAxis"),G.prototype),C=e(G.prototype,"stretchDirection",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.Auto}}),R=e(G.prototype,"overflowOffset",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),k=e(G.prototype,"enterOffset",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=e(G.prototype,"_spacing",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(G.prototype,"spacing",[z],Object.getOwnPropertyDescriptor(G.prototype,"spacing"),G.prototype),U=e(G.prototype,"left",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=e(G.prototype,"right",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=e(G.prototype,"top",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=e(G.prototype,"bottom",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=e(G.prototype,"magnetic",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=e(G.prototype,"magneticDirection",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.Header}}),K=e(G.prototype,"magneticDuration",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Q=e(G.prototype,"magneticSizeChanges",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=e(G.prototype,"loopHeader",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=e(G.prototype,"loopFooter",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=G))||N));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});